{
    "hints": {
        "createApplication(address)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "initApplication(uint64,uint64,pay,uint64,application)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateAdminAddress(account)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "injectRewards(axfer,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "deleteApplication()void": {
            "call_config": {
                "delete_application": "CALL"
            }
        },
        "stake(axfer,uint64,pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimRewards()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "unstake(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "gas()void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQgMTAwMCAxMDAwMDAwMDAwMDAwMDAwCiAgICBieXRlY2Jsb2NrICJzdCIgInJld2FyZF9hc3NldF9pZCIgInRvdGFsX3N0YWtlZCIgInJld2FyZF9wZXJfdG9rZW4iICJhZG1pbl9hZGRyZXNzIiAic3Rha2VkX2Fzc2V0X2lkIiAibnVtX3N0YWtlcnMiIDB4MDAwMDAwMDAwMDAwMDAwMCAibGFzdF9yZXdhcmRfaW5qZWN0aW9uX3RpbWUiICJmbHV4X3RpZXJfcmVxdWlyZWQiICJmbHV4X29yYWNsZV9hcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMi0yMwogICAgLy8gQGNvbnRyYWN0KHsgbmFtZTogImlycGZnIiwgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBJbmplY3RlZFJld2FyZHNQb29sRmx1eEdhdGVkIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIE51bUFwcEFyZ3MKICAgIGJ6IG1haW5fYWZ0ZXJfaWZfZWxzZUAxNQogICAgcHVzaGJ5dGVzcyAweGQzMjRiZWE0IDB4OTQyMDIwNjQgMHgzMmRiN2E2ZCAweDM0NzAwN2ViIDB4MjQ4N2MzMmMgMHg3YTllZTE4OSAweGE1YWU2YmQxIDB4ODEzY2U4OWEgMHgzMTcyY2E5ZCAvLyBtZXRob2QgImNyZWF0ZUFwcGxpY2F0aW9uKGFkZHJlc3Mpdm9pZCIsIG1ldGhvZCAiaW5pdEFwcGxpY2F0aW9uKHVpbnQ2NCx1aW50NjQscGF5LHVpbnQ2NCxhcHBsaWNhdGlvbil2b2lkIiwgbWV0aG9kICJ1cGRhdGVBZG1pbkFkZHJlc3MoYWNjb3VudCl2b2lkIiwgbWV0aG9kICJpbmplY3RSZXdhcmRzKGF4ZmVyLHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAiZGVsZXRlQXBwbGljYXRpb24oKXZvaWQiLCBtZXRob2QgInN0YWtlKGF4ZmVyLHVpbnQ2NCxwYXkpdm9pZCIsIG1ldGhvZCAiY2xhaW1SZXdhcmRzKCl2b2lkIiwgbWV0aG9kICJ1bnN0YWtlKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJnYXMoKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBtYWluX2NyZWF0ZUFwcGxpY2F0aW9uX3JvdXRlQDMgbWFpbl9pbml0QXBwbGljYXRpb25fcm91dGVANCBtYWluX3VwZGF0ZUFkbWluQWRkcmVzc19yb3V0ZUA1IG1haW5faW5qZWN0UmV3YXJkc19yb3V0ZUA2IG1haW5fZGVsZXRlQXBwbGljYXRpb25fcm91dGVANyBtYWluX3N0YWtlX3JvdXRlQDggbWFpbl9jbGFpbVJld2FyZHNfcm91dGVAOSBtYWluX3Vuc3Rha2Vfcm91dGVAMTAgbWFpbl9nYXNfcm91dGVAMTEKCm1haW5fYWZ0ZXJfaWZfZWxzZUAxNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIyLTIzCiAgICAvLyBAY29udHJhY3QoeyBuYW1lOiAiaXJwZmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIEluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICBpbnRjXzAgLy8gMAogICAgcmV0dXJuCgptYWluX2dhc19yb3V0ZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMzMQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdW5zdGFrZV9yb3V0ZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI3MgogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIyLTIzCiAgICAvLyBAY29udHJhY3QoeyBuYW1lOiAiaXJwZmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIEluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNzIKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgY2FsbHN1YiB1bnN0YWtlCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2NsYWltUmV3YXJkc19yb3V0ZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjQwCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBjbGFpbVJld2FyZHMKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fc3Rha2Vfcm91dGVAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE2NQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIyLTIzCiAgICAvLyBAY29udHJhY3QoeyBuYW1lOiAiaXJwZmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIEluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgcHVzaGludCAyIC8vIDIKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMiAvLyBheGZlcgogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIGF4ZmVyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE2NQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIHN0YWtlCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2RlbGV0ZUFwcGxpY2F0aW9uX3JvdXRlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMzYKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJEZWxldGVBcHBsaWNhdGlvbiIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IERlbGV0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgZGVsZXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5faW5qZWN0UmV3YXJkc19yb3V0ZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTE3CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjItMjMKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJpcnBmZyIsIGF2bVZlcnNpb246IDExIH0pCiAgICAvLyBleHBvcnQgY2xhc3MgSW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18yIC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjExNwogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIGluamVjdFJld2FyZHMKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQWRtaW5BZGRyZXNzX3JvdXRlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMDgKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMi0yMwogICAgLy8gQGNvbnRyYWN0KHsgbmFtZTogImlycGZnIiwgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBJbmplY3RlZFJld2FyZHNQb29sRmx1eEdhdGVkIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYXMgQWNjb3VudHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEwOAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIHVwZGF0ZUFkbWluQWRkcmVzcwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9pbml0QXBwbGljYXRpb25fcm91dGVANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjY0CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjItMjMKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJpcnBmZyIsIGF2bVZlcnNpb246IDExIH0pCiAgICAvLyBleHBvcnQgY2xhc3MgSW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgYnRvaQogICAgdHhuYXMgQXBwbGljYXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo2NAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIGluaXRBcHBsaWNhdGlvbgogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jcmVhdGVBcHBsaWNhdGlvbl9yb3V0ZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDgKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiwgb25DcmVhdGU6ICJyZXF1aXJlIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIyLTIzCiAgICAvLyBAY29udHJhY3QoeyBuYW1lOiAiaXJwZmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIEluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0OAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiLCBvbkNyZWF0ZTogInJlcXVpcmUiIH0pCiAgICBjYWxsc3ViIGNyZWF0ZUFwcGxpY2F0aW9uCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuY3JlYXRlQXBwbGljYXRpb24oYWRtaW5BZGRyZXNzOiBieXRlcykgLT4gdm9pZDoKY3JlYXRlQXBwbGljYXRpb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0OC00OQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiLCBvbkNyZWF0ZTogInJlcXVpcmUiIH0pCiAgICAvLyBjcmVhdGVBcHBsaWNhdGlvbihhZG1pbkFkZHJlc3M6IEFkZHJlc3MpOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWMgNCAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjUwCiAgICAvLyB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUgPSBhZG1pbkFkZHJlc3MubmF0aXZlOwogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDIKICAgIC8vIGNvbnRyYWN0X3ZlcnNpb24gPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgcHVzaGJ5dGVzcyAiY29udHJhY3RfdmVyc2lvbiIgMHgwMDAwMDAwMDAwMDAwZmEwIC8vICJjb250cmFjdF92ZXJzaW9uIiwgMHgwMDAwMDAwMDAwMDAwZmEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MQogICAgLy8gdGhpcy5jb250cmFjdF92ZXJzaW9uLnZhbHVlID0gbmV3IFVpbnRONjQoVkVSU0lPTik7CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuaW5pdEFwcGxpY2F0aW9uKHN0YWtlZEFzc2V0SWQ6IHVpbnQ2NCwgcmV3YXJkQXNzZXRJZDogdWludDY0LCBpbml0aWFsQmFsYW5jZVR4bjogdWludDY0LCBmbHV4VGllclJlcXVpcmVkOiB1aW50NjQsIGZsdXhPcmFjbGVBcHA6IHVpbnQ2NCkgLT4gdm9pZDoKaW5pdEFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NjQtNzEKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgLy8gaW5pdEFwcGxpY2F0aW9uKAogICAgLy8gICBzdGFrZWRBc3NldElkOiB1aW50NjQsCiAgICAvLyAgIHJld2FyZEFzc2V0SWQ6IHVpbnQ2NCwKICAgIC8vICAgaW5pdGlhbEJhbGFuY2VUeG46IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgZmx1eFRpZXJSZXF1aXJlZDogdWludDY0LAogICAgLy8gICBmbHV4T3JhY2xlQXBwOiBBcHBsaWNhdGlvbgogICAgLy8gKTogdm9pZCB7CiAgICBwcm90byA1IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjcyCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gaW5pdCBhcHBsaWNhdGlvbiIpOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDQgLy8gImFkbWluX2FkZHJlc3MiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NzIKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBpbml0IGFwcGxpY2F0aW9uIik7CiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIGluaXQgYXBwbGljYXRpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjc0CiAgICAvLyB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZSA9IG5ldyBVaW50TjY0KHN0YWtlZEFzc2V0SWQpOwogICAgZnJhbWVfZGlnIC01CiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjIDUgLy8gInN0YWtlZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjc0CiAgICAvLyB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZSA9IG5ldyBVaW50TjY0KHN0YWtlZEFzc2V0SWQpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjc1CiAgICAvLyB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZSA9IG5ldyBVaW50TjY0KHJld2FyZEFzc2V0SWQpOwogICAgZnJhbWVfZGlnIC00CiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMAogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzEgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjc1CiAgICAvLyB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZSA9IG5ldyBVaW50TjY0KHJld2FyZEFzc2V0SWQpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMyCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgYnl0ZWNfMiAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NzYKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnRONjQoMCk7CiAgICBieXRlYyA3IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM2CiAgICAvLyBsYXN0X3Jld2FyZF9pbmplY3Rpb25fdGltZSA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlYyA4IC8vICJsYXN0X3Jld2FyZF9pbmplY3Rpb25fdGltZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjc3CiAgICAvLyB0aGlzLmxhc3RfcmV3YXJkX2luamVjdGlvbl90aW1lLnZhbHVlID0gbmV3IFVpbnRONjQoMCk7CiAgICBieXRlYyA3IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0CiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzMgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo3OAogICAgLy8gdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlID0gbmV3IFVpbnRONjQoMCk7CiAgICBieXRlYyA3IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwCiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlYyA2IC8vICJudW1fc3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjc5CiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnRONjQoMCk7CiAgICBieXRlYyA3IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjgwCiAgICAvLyB0aGlzLmZsdXhfdGllcl9yZXF1aXJlZC52YWx1ZSA9IG5ldyBVaW50TjgoZmx1eFRpZXJSZXF1aXJlZCk7CiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA3IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ0CiAgICAvLyBmbHV4X3RpZXJfcmVxdWlyZWQgPSBHbG9iYWxTdGF0ZTxVaW50Tjg+KCk7CiAgICBieXRlYyA5IC8vICJmbHV4X3RpZXJfcmVxdWlyZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo4MAogICAgLy8gdGhpcy5mbHV4X3RpZXJfcmVxdWlyZWQudmFsdWUgPSBuZXcgVWludE44KGZsdXhUaWVyUmVxdWlyZWQpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ2CiAgICAvLyBmbHV4X29yYWNsZV9hcHAgPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oKTsKICAgIGJ5dGVjIDEwIC8vICJmbHV4X29yYWNsZV9hcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo4MQogICAgLy8gdGhpcy5mbHV4X29yYWNsZV9hcHAudmFsdWUgPSBmbHV4T3JhY2xlQXBwOwogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6ODMtODYKICAgIC8vIGFzc2VydE1hdGNoKGluaXRpYWxCYWxhbmNlVHhuLCB7CiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBJTklUSUFMX1BBWV9BTU9VTlQsCiAgICAvLyB9KTsKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjg0CiAgICAvLyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6ODMtODYKICAgIC8vIGFzc2VydE1hdGNoKGluaXRpYWxCYWxhbmNlVHhuLCB7CiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBJTklUSUFMX1BBWV9BTU9VTlQsCiAgICAvLyB9KTsKICAgID09CiAgICBieiBpbml0QXBwbGljYXRpb25fYm9vbF9mYWxzZUAzCiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjE1CiAgICAvLyBleHBvcnQgY29uc3QgSU5JVElBTF9QQVlfQU1PVU5UOiB1aW50NjQgPSA0MDBfMDAwOwogICAgcHVzaGludCA0MDAwMDAgLy8gNDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo4My04NgogICAgLy8gYXNzZXJ0TWF0Y2goaW5pdGlhbEJhbGFuY2VUeG4sIHsKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IElOSVRJQUxfUEFZX0FNT1VOVCwKICAgIC8vIH0pOwogICAgPT0KICAgIGJ6IGluaXRBcHBsaWNhdGlvbl9ib29sX2ZhbHNlQDMKICAgIGludGNfMSAvLyAxCgppbml0QXBwbGljYXRpb25fYm9vbF9tZXJnZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6ODMtODYKICAgIC8vIGFzc2VydE1hdGNoKGluaXRpYWxCYWxhbmNlVHhuLCB7CiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBJTklUSUFMX1BBWV9BTU9VTlQsCiAgICAvLyB9KTsKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo4OC05NQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiBzdGFrZWRBc3NldElkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTEKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjkyCiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGZyYW1lX2RpZyAtNQogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjg4LTk0CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHN0YWtlZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNgogICAgLy8gZXhwb3J0IGNvbnN0IFNUQU5EQVJEX1RYTl9GRUU6IHVpbnQ2NCA9IDFfMDAwOwogICAgaW50Y18zIC8vIDEwMDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo4OC05NQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiBzdGFrZWRBc3NldElkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjk2CiAgICAvLyBpZiAocmV3YXJkQXNzZXRJZCAhPT0gc3Rha2VkQXNzZXRJZCkgewogICAgZnJhbWVfZGlnIC00CiAgICBmcmFtZV9kaWcgLTUKICAgICE9CiAgICBieiBpbml0QXBwbGljYXRpb25fYWZ0ZXJfaWZfZWxzZUA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo5Ny0xMDQKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogcmV3YXJkQXNzZXRJZCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEwMAogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTAxCiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGZyYW1lX2RpZyAtNAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjk3LTEwMwogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiByZXdhcmRBc3NldElkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTYKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGNfMyAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTctMTA0CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHJld2FyZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKaW5pdEFwcGxpY2F0aW9uX2FmdGVyX2lmX2Vsc2VAODoKICAgIHJldHN1YgoKaW5pdEFwcGxpY2F0aW9uX2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMCAvLyAwCiAgICBiIGluaXRBcHBsaWNhdGlvbl9ib29sX21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC51cGRhdGVBZG1pbkFkZHJlc3MoYWRtaW5BZGRyZXNzOiBieXRlcykgLT4gdm9pZDoKdXBkYXRlQWRtaW5BZGRyZXNzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTA4LTEwOQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICAvLyB1cGRhdGVBZG1pbkFkZHJlc3MoYWRtaW5BZGRyZXNzOiBBY2NvdW50KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjExMAogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIHVwZGF0ZSBhZG1pbiBhZGRyZXNzIik7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNCAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMTAKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiB1cGRhdGUgYWRtaW4gYWRkcmVzcyIpOwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGFkbWluIGNhbiB1cGRhdGUgYWRtaW4gYWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWMgNCAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjExMQogICAgLy8gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlID0gYWRtaW5BZGRyZXNzOwogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuaW5qZWN0UmV3YXJkcyhyZXdhcmRUeG46IHVpbnQ2NCwgcXVhbnRpdHk6IHVpbnQ2NCwgcmV3YXJkQXNzZXRJZDogdWludDY0KSAtPiB2b2lkOgppbmplY3RSZXdhcmRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTE3LTExOAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICAvLyBpbmplY3RSZXdhcmRzKHJld2FyZFR4bjogZ3R4bi5Bc3NldFRyYW5zZmVyVHhuLCBxdWFudGl0eTogdWludDY0LCByZXdhcmRBc3NldElkOiB1aW50NjQpOiB2b2lkIHsKICAgIHByb3RvIDMgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTE5CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gaW5qZWN0IHJld2FyZHMiKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBhZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA0IC8vICJhZG1pbl9hZGRyZXNzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjExOQogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGluamVjdCByZXdhcmRzIik7CiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIGluamVjdCByZXdhcmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMjAKICAgIC8vIGFzc2VydChxdWFudGl0eSA+IDAsICJJbnZhbGlkIHJld2FyZCBxdWFudGl0eSIpOwogICAgZnJhbWVfZGlnIC0yCiAgICBhc3NlcnQgLy8gSW52YWxpZCByZXdhcmQgcXVhbnRpdHkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMwCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMjEKICAgIC8vIGFzc2VydChyZXdhcmRBc3NldElkID09PSB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsICJXcm9uZyByZXdhcmQgYXNzZXQiKTsKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAtMQogICAgPT0KICAgIGFzc2VydCAvLyBXcm9uZyByZXdhcmQgYXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEyMy0xMjgKICAgIC8vIGFzc2VydE1hdGNoKHJld2FyZFR4biwgewogICAgLy8gICBzZW5kZXI6IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDQgLy8gImFkbWluX2FkZHJlc3MiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTIzLTEyOAogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgID09CiAgICBieiBpbmplY3RSZXdhcmRzX2Jvb2xfZmFsc2VANQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBBc3NldFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMjUKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEyMy0xMjgKICAgIC8vIGFzc2VydE1hdGNoKHJld2FyZFR4biwgewogICAgLy8gICBzZW5kZXI6IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICA9PQogICAgYnogaW5qZWN0UmV3YXJkc19ib29sX2ZhbHNlQDUKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMAogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTI2CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSksCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMjMtMTI4CiAgICAvLyBhc3NlcnRNYXRjaChyZXdhcmRUeG4sIHsKICAgIC8vICAgc2VuZGVyOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBxdWFudGl0eSwKICAgIC8vIH0pOwogICAgPT0KICAgIGJ6IGluamVjdFJld2FyZHNfYm9vbF9mYWxzZUA1CiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICBmcmFtZV9kaWcgLTIKICAgID09CiAgICBieiBpbmplY3RSZXdhcmRzX2Jvb2xfZmFsc2VANQogICAgaW50Y18xIC8vIDEKCmluamVjdFJld2FyZHNfYm9vbF9tZXJnZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTIzLTEyOAogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMgogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTI5CiAgICAvLyBhc3NlcnQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUubmF0aXZlID4gMCwgIk5vIHN0YWtlcnMiKTsKICAgIGJ0b2kKICAgIGFzc2VydCAvLyBObyBzdGFrZXJzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMgogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTMxCiAgICAvLyBjb25zdCBkZWx0YVJQVCA9IG11bERpdlcocXVhbnRpdHksIFBSRUNJU0lPTiwgdGhpcy50b3RhbF9zdGFrZWQudmFsdWUubmF0aXZlKTsKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoyNwogICAgLy8gYXNzZXJ0KGMgPiAwLCAibXVsRGl2VzogZGl2aXNpb24gYnkgemVybyIpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gbXVsRGl2VzogZGl2aXNpb24gYnkgemVybwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBmcmFtZV9kaWcgLTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czo0CiAgICAvLyBleHBvcnQgY29uc3QgUFJFQ0lTSU9OOiB1aW50NjQgPSAxXzAwMF8wMDBfMDAwXzAwMF8wMDA7CiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICB1bmNvdmVyIDIKICAgIGRpdncKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0CiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICJyZXdhcmRfcGVyX3Rva2VuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEzMgogICAgLy8gdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLm5hdGl2ZSArIGRlbHRhUlBUKTsKICAgIGJ0b2kKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0CiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzMgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMzIKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5uYXRpdmUgKyBkZWx0YVJQVCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTMzCiAgICAvLyB0aGlzLmxhc3RfcmV3YXJkX2luamVjdGlvbl90aW1lLnZhbHVlID0gbmV3IFVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCk7CiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNgogICAgLy8gbGFzdF9yZXdhcmRfaW5qZWN0aW9uX3RpbWUgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgYnl0ZWMgOCAvLyAibGFzdF9yZXdhcmRfaW5qZWN0aW9uX3RpbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMzMKICAgIC8vIHRoaXMubGFzdF9yZXdhcmRfaW5qZWN0aW9uX3RpbWUudmFsdWUgPSBuZXcgVWludE42NChHbG9iYWwubGF0ZXN0VGltZXN0YW1wKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCmluamVjdFJld2FyZHNfYm9vbF9mYWxzZUA1OgogICAgaW50Y18wIC8vIDAKICAgIGIgaW5qZWN0UmV3YXJkc19ib29sX21lcmdlQDYKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC5kZWxldGVBcHBsaWNhdGlvbigpIC0+IHZvaWQ6CmRlbGV0ZUFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTM4CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gZGVsZXRlIGFwcGxpY2F0aW9uIik7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNCAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMzgKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBkZWxldGUgYXBwbGljYXRpb24iKTsKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gZGVsZXRlIGFwcGxpY2F0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMgogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTM5CiAgICAvLyBhc3NlcnQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUubmF0aXZlID09PSAwLCAiU3Rha2VkIGFzc2V0cyBzdGlsbCBleGlzdCIpOwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIFN0YWtlZCBhc3NldHMgc3RpbGwgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE0Mi0xNTAKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjgKICAgIC8vIHN0YWtlZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNSAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE0NAogICAgLy8geGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNDUKICAgIC8vIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNDcKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTQ2CiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE0Mi0xNDkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTYKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGNfMyAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTQyLTE1MAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRDbG9zZVRvOiBHbG9iYWwuemVyb0FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjgKICAgIC8vIHN0YWtlZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNSAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMwCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNTIKICAgIC8vIGlmICh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZSAhPT0gdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUpIHsKICAgICE9CiAgICBieiBkZWxldGVBcHBsaWNhdGlvbl9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE1My0xNjEKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzAKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE1NQogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNTYKICAgIC8vIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNTgKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTU3CiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE1My0xNjAKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTYKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGNfMyAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTUzLTE2MQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRDbG9zZVRvOiBHbG9iYWwuemVyb0FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKZGVsZXRlQXBwbGljYXRpb25fYWZ0ZXJfaWZfZWxzZUA0OgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuc3Rha2Uoc3Rha2VUeG46IHVpbnQ2NCwgcXVhbnRpdHk6IHVpbnQ2NCwgbWJyVHhuOiB1aW50NjQpIC0+IHZvaWQ6CnN0YWtlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTY1LTE2NgogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICAvLyBzdGFrZShzdGFrZVR4bjogZ3R4bi5Bc3NldFRyYW5zZmVyVHhuLCBxdWFudGl0eTogdWludDY0LCBtYnJUeG46IGd0eG4uUGF5bWVudFR4bik6IHZvaWQgewogICAgcHJvdG8gMyAwCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gNQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTY3CiAgICAvLyBhc3NlcnQocXVhbnRpdHkgPiAwLCAiSW52YWxpZCBxdWFudGl0eSIpOwogICAgZnJhbWVfZGlnIC0yCiAgICBhc3NlcnQgLy8gSW52YWxpZCBxdWFudGl0eQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTY5LTE3NAogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNzAKICAgIC8vIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE2OS0xNzQKICAgIC8vIGFzc2VydE1hdGNoKHN0YWtlVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICA9PQogICAgYnogc3Rha2VfYm9vbF9mYWxzZUA1CiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIEFzc2V0UmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE3MQogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTY5LTE3NAogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgID09CiAgICBieiBzdGFrZV9ib29sX2ZhbHNlQDUKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA1IC8vICJzdGFrZWRfYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTcyCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSksCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNjktMTc0CiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZVR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBxdWFudGl0eSwKICAgIC8vIH0pOwogICAgPT0KICAgIGJ6IHN0YWtlX2Jvb2xfZmFsc2VANQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBBc3NldEFtb3VudAogICAgZnJhbWVfZGlnIC0yCiAgICA9PQogICAgYnogc3Rha2VfYm9vbF9mYWxzZUA1CiAgICBpbnRjXzEgLy8gMQoKc3Rha2VfYm9vbF9tZXJnZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTY5LTE3NAogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NgogICAgLy8gZmx1eF9vcmFjbGVfYXBwID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgMTAgLy8gImZsdXhfb3JhY2xlX2FwcCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNzctMTg0CiAgICAvLyBjb25zdCByZXN1bHQgPSBhYmlDYWxsKEZsdXhHYXRlU3R1Yi5wcm90b3R5cGUuZ2V0VXNlclRpZXIsIHsKICAgIC8vICAgYXBwSWQ6IG9yYWNsZS5pZCwKICAgIC8vICAgYXJnczogW25ldyBhcmM0LkFkZHJlc3Mob3AuVHhuLnNlbmRlcildLAogICAgLy8gICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIGFwcHM6IFtvcmFjbGVdLAogICAgLy8gICBhY2NvdW50czogW29wLlR4bi5zZW5kZXJdLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxODAKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTgzCiAgICAvLyBhY2NvdW50czogW29wLlR4bi5zZW5kZXJdLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTc5CiAgICAvLyBhcmdzOiBbbmV3IGFyYzQuQWRkcmVzcyhvcC5UeG4uc2VuZGVyKV0sCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE3Ny0xODQKICAgIC8vIGNvbnN0IHJlc3VsdCA9IGFiaUNhbGwoRmx1eEdhdGVTdHViLnByb3RvdHlwZS5nZXRVc2VyVGllciwgewogICAgLy8gICBhcHBJZDogb3JhY2xlLmlkLAogICAgLy8gICBhcmdzOiBbbmV3IGFyYzQuQWRkcmVzcyhvcC5UeG4uc2VuZGVyKV0sCiAgICAvLyAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgYXBwczogW29yYWNsZV0sCiAgICAvLyAgIGFjY291bnRzOiBbb3AuVHhuLnNlbmRlcl0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZTsKICAgIHB1c2hieXRlcyAweGQ0ZDdhYTVjIC8vIG1ldGhvZCAiZ2V0VXNlclRpZXIoYWRkcmVzcyl1aW50NjQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQWNjb3VudHMKICAgIGRpZyAxCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9ucwogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNgogICAgLy8gZXhwb3J0IGNvbnN0IFNUQU5EQVJEX1RYTl9GRUU6IHVpbnQ2NCA9IDFfMDAwOwogICAgaW50Y18zIC8vIDEwMDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNzctMTg0CiAgICAvLyBjb25zdCByZXN1bHQgPSBhYmlDYWxsKEZsdXhHYXRlU3R1Yi5wcm90b3R5cGUuZ2V0VXNlclRpZXIsIHsKICAgIC8vICAgYXBwSWQ6IG9yYWNsZS5pZCwKICAgIC8vICAgYXJnczogW25ldyBhcmM0LkFkZHJlc3Mob3AuVHhuLnNlbmRlcildLAogICAgLy8gICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIGFwcHM6IFtvcmFjbGVdLAogICAgLy8gICBhY2NvdW50czogW29wLlR4bi5zZW5kZXJdLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgcHVzaGJ5dGVzIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTg1CiAgICAvLyBhc3NlcnQocmVzdWx0Lm5hdGl2ZSA+PSB0aGlzLmZsdXhfdGllcl9yZXF1aXJlZC52YWx1ZS5uYXRpdmUsICJJbnN1ZmZpY2llbnQgZmx1eCB0aWVyIik7CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NAogICAgLy8gZmx1eF90aWVyX3JlcXVpcmVkID0gR2xvYmFsU3RhdGU8VWludE44PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDkgLy8gImZsdXhfdGllcl9yZXF1aXJlZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxODUKICAgIC8vIGFzc2VydChyZXN1bHQubmF0aXZlID49IHRoaXMuZmx1eF90aWVyX3JlcXVpcmVkLnZhbHVlLm5hdGl2ZSwgIkluc3VmZmljaWVudCBmbHV4IHRpZXIiKTsKICAgIGJ0b2kKICAgID49CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IGZsdXggdGllcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTg3CiAgICAvLyBjb25zdCBleGlzdHMgPSB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZXhpc3RzOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTg3CiAgICAvLyBjb25zdCBleGlzdHMgPSB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZXhpc3RzOwogICAgYm94X2xlbgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBmcmFtZV9idXJ5IDEKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTg4CiAgICAvLyBpZiAoIWV4aXN0cykgewogICAgYm56IHN0YWtlX2FmdGVyX2lmX2Vsc2VAMTQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE4OS0xOTMKICAgIC8vIGFzc2VydE1hdGNoKG1iclR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gfSk7CiAgICBmcmFtZV9kaWcgLTEKICAgIGd0eG5zIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTkwCiAgICAvLyBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxODktMTkzCiAgICAvLyBhc3NlcnRNYXRjaChtYnJUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogQk9YX0ZFRSwKICAgIC8vIH0pOwogICAgPT0KICAgIGJ6IHN0YWtlX2Jvb2xfZmFsc2VAMTIKICAgIGZyYW1lX2RpZyAtMQogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE5MQogICAgLy8gcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE4OS0xOTMKICAgIC8vIGFzc2VydE1hdGNoKG1iclR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gfSk7CiAgICA9PQogICAgYnogc3Rha2VfYm9vbF9mYWxzZUAxMgogICAgZnJhbWVfZGlnIC0xCiAgICBndHhucyBBbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNwogICAgLy8gZXhwb3J0IGNvbnN0IEJPWF9GRUU6IHVpbnQ2NCA9IDIyXzUwMDsKICAgIHB1c2hpbnQgMjI1MDAgLy8gMjI1MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE4OS0xOTMKICAgIC8vIGFzc2VydE1hdGNoKG1iclR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gfSk7CiAgICA9PQogICAgYnogc3Rha2VfYm9vbF9mYWxzZUAxMgogICAgaW50Y18xIC8vIDEKCnN0YWtlX2Jvb2xfbWVyZ2VAMTM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxODktMTkzCiAgICAvLyBhc3NlcnRNYXRjaChtYnJUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogQk9YX0ZFRSwKICAgIC8vIH0pOwogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxOTYKICAgIC8vIGNvbnN0IHByZXZTdGFrZTogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnN0YWtlLm5hdGl2ZSA6IDA7CiAgICBmcmFtZV9kaWcgMQogICAgYnogc3Rha2VfdGVybmFyeV9mYWxzZUAxNgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTk2CiAgICAvLyBjb25zdCBwcmV2U3Rha2U6IHVpbnQ2NCA9IGV4aXN0cyA/IHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZS5zdGFrZS5uYXRpdmUgOiAwOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTk2CiAgICAvLyBjb25zdCBwcmV2U3Rha2U6IHVpbnQ2NCA9IGV4aXN0cyA/IHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZS5zdGFrZS5uYXRpdmUgOiAwOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfYnVyeSA1CgpzdGFrZV90ZXJuYXJ5X21lcmdlQDE3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTk3CiAgICAvLyBjb25zdCBwcmV2RGVidDogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnJld2FyZERlYnQubmF0aXZlIDogMDsKICAgIGZyYW1lX2RpZyAxCiAgICBieiBzdGFrZV90ZXJuYXJ5X2ZhbHNlQDE5CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMCAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxOTcKICAgIC8vIGNvbnN0IHByZXZEZWJ0OiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUucmV3YXJkRGVidC5uYXRpdmUgOiAwOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTk3CiAgICAvLyBjb25zdCBwcmV2RGVidDogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnJld2FyZERlYnQubmF0aXZlIDogMDsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2J1cnkgNAoKc3Rha2VfdGVybmFyeV9tZXJnZUAyMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0CiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICJyZXdhcmRfcGVyX3Rva2VuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIwMQogICAgLy8gY29uc3QgYWNjcnVlZCA9IG11bERpdlcocHJldlN0YWtlLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUubmF0aXZlLCBQUkVDSVNJT04pOwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBmcmFtZV9kaWcgNQogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBQUkVDSVNJT046IHVpbnQ2NCA9IDFfMDAwXzAwMF8wMDBfMDAwXzAwMDsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjAyCiAgICAvLyBjb25zdCBwZW5kaW5nOiB1aW50NjQgPSBhY2NydWVkID4gcHJldkRlYnQgPyBhY2NydWVkIC0gcHJldkRlYnQgOiAwOwogICAgZnJhbWVfZGlnIDQKICAgID4KICAgIGJ6IHN0YWtlX3Rlcm5hcnlfZmFsc2VAMjIKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9kaWcgNAogICAgLQogICAgZnJhbWVfYnVyeSAzCgpzdGFrZV90ZXJuYXJ5X21lcmdlQDIzOgogICAgZnJhbWVfZGlnIDUKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjA2CiAgICAvLyBpZiAocGVuZGluZyA+IDApIHsKICAgIGZyYW1lX2RpZyAzCiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDI5CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA1IC8vICJzdGFrZWRfYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjA3CiAgICAvLyBpZiAodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlID09PSB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUpIHsKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMwCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMDcKICAgIC8vIGlmICh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUgPT09IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSkgewogICAgYnRvaQogICAgPT0KICAgIGJ6IHN0YWtlX2Vsc2VfYm9keUAyNgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjA5CiAgICAvLyBuZXdTdGFrZSA9IG5ld1N0YWtlICsgcGVuZGluZzsKICAgIGZyYW1lX2RpZyA1CiAgICBmcmFtZV9kaWcgMwogICAgZHVwCiAgICBjb3ZlciAyCiAgICArCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMyCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gInRvdGFsX3N0YWtlZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMTAKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUubmF0aXZlICsgcGVuZGluZyk7CiAgICBidG9pCiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMgogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzIgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIxMAogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5uYXRpdmUgKyBwZW5kaW5nKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDI5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjI1CiAgICAvLyBuZXdTdGFrZSA9IG5ld1N0YWtlICsgcXVhbnRpdHk7CiAgICBmcmFtZV9kaWcgMgogICAgZnJhbWVfZGlnIC0yCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMgogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjI2CiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSArIHF1YW50aXR5KTsKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAtMgogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzIKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMjYKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUubmF0aXZlICsgcXVhbnRpdHkpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0CiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICJyZXdhcmRfcGVyX3Rva2VuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIyOQogICAgLy8gY29uc3QgbmV3RGVidCA9IG11bERpdlcobmV3U3Rha2UsIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5uYXRpdmUsIFBSRUNJU0lPTik7CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGRpZyAxCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IFBSRUNJU0lPTjogdWludDY0ID0gMV8wMDBfMDAwXzAwMF8wMDBfMDAwOwogICAgaW50YyA0IC8vIDEwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIzMQogICAgLy8gc3Rha2U6IG5ldyBVaW50TjY0KG5ld1N0YWtlKSwKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIzMgogICAgLy8gcmV3YXJkRGVidDogbmV3IFVpbnRONjQobmV3RGVidCksCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMzAtMjMzCiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgU3Rha2VJbmZvUmVjb3JkKHsKICAgIC8vICAgc3Rha2U6IG5ldyBVaW50TjY0KG5ld1N0YWtlKSwKICAgIC8vICAgcmV3YXJkRGVidDogbmV3IFVpbnRONjQobmV3RGVidCksCiAgICAvLyB9KS5jb3B5KCk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlY18wIC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIzMAogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMzAtMjMzCiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgU3Rha2VJbmZvUmVjb3JkKHsKICAgIC8vICAgc3Rha2U6IG5ldyBVaW50TjY0KG5ld1N0YWtlKSwKICAgIC8vICAgcmV3YXJkRGVidDogbmV3IFVpbnRONjQobmV3RGVidCksCiAgICAvLyB9KS5jb3B5KCk7CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMzUKICAgIC8vIGlmICghZXhpc3RzKSB7CiAgICBmcmFtZV9kaWcgMQogICAgYm56IHN0YWtlX2FmdGVyX2lmX2Vsc2VAMzEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwCiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNiAvLyAibnVtX3N0YWtlcnMiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjM2CiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmUgKyAxKTsKICAgIGJ0b2kKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MAogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgYnl0ZWMgNiAvLyAibnVtX3N0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMzYKICAgIC8vIHRoaXMubnVtX3N0YWtlcnMudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZSArIDEpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMzE6CiAgICByZXRzdWIKCnN0YWtlX2Vsc2VfYm9keUAyNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIxMi0yMjAKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogcGVuZGluZywKICAgIC8vICAgICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMwCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMTQKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjE1CiAgICAvLyBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjE2CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAzCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjEyLTIxOQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBwZW5kaW5nLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTYKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGNfMyAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjEyLTIyMAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBwZW5kaW5nLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIGZyYW1lX2RpZyA1CiAgICBmcmFtZV9idXJ5IDIKICAgIGIgc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyOQoKc3Rha2VfdGVybmFyeV9mYWxzZUAyMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIwMgogICAgLy8gY29uc3QgcGVuZGluZzogdWludDY0ID0gYWNjcnVlZCA+IHByZXZEZWJ0ID8gYWNjcnVlZCAtIHByZXZEZWJ0IDogMDsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDMKICAgIGIgc3Rha2VfdGVybmFyeV9tZXJnZUAyMwoKc3Rha2VfdGVybmFyeV9mYWxzZUAxOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE5NwogICAgLy8gY29uc3QgcHJldkRlYnQ6IHVpbnQ2NCA9IGV4aXN0cyA/IHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZS5yZXdhcmREZWJ0Lm5hdGl2ZSA6IDA7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA0CiAgICBiIHN0YWtlX3Rlcm5hcnlfbWVyZ2VAMjAKCnN0YWtlX3Rlcm5hcnlfZmFsc2VAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxOTYKICAgIC8vIGNvbnN0IHByZXZTdGFrZTogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnN0YWtlLm5hdGl2ZSA6IDA7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSA1CiAgICBiIHN0YWtlX3Rlcm5hcnlfbWVyZ2VAMTcKCnN0YWtlX2Jvb2xfZmFsc2VAMTI6CiAgICBpbnRjXzAgLy8gMAogICAgYiBzdGFrZV9ib29sX21lcmdlQDEzCgpzdGFrZV9ib29sX2ZhbHNlQDU6CiAgICBpbnRjXzAgLy8gMAogICAgYiBzdGFrZV9ib29sX21lcmdlQDYKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC5jbGFpbVJld2FyZHMoKSAtPiB2b2lkOgpjbGFpbVJld2FyZHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNDAtMjQxCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIC8vIGNsYWltUmV3YXJkcygpOiB2b2lkIHsKICAgIHByb3RvIDAgMAogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMCAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNDMKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZXhpc3RzLCAiTm8gc3Rha2UgZm91bmQgZm9yIHVzZXIiKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI0MwogICAgLy8gYXNzZXJ0KHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5leGlzdHMsICJObyBzdGFrZSBmb3VuZCBmb3IgdXNlciIpOwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gTm8gc3Rha2UgZm91bmQgZm9yIHVzZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI4CiAgICAvLyBzdGFrZWRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDUgLy8gInN0YWtlZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNDQKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUgIT09IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwgIkNhbm5vdCBjbGFpbSByZXdhcmRzIHRoYXQgY29tcG91bmQiKTsKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMwCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNDQKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUgIT09IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwgIkNhbm5vdCBjbGFpbSByZXdhcmRzIHRoYXQgY29tcG91bmQiKTsKICAgIGJ0b2kKICAgICE9CiAgICBhc3NlcnQgLy8gQ2Fubm90IGNsYWltIHJld2FyZHMgdGhhdCBjb21wb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjQ2CiAgICAvLyBjb25zdCBzdGFrZXIgPSB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUuY29weSgpOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjQ2CiAgICAvLyBjb25zdCBzdGFrZXIgPSB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUuY29weSgpOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI0NwogICAgLy8gYXNzZXJ0KHN0YWtlci5zdGFrZS5uYXRpdmUgPiAwLCAiTm8gc3Rha2UiKTsKICAgIGR1cAogICAgZXh0cmFjdCAwIDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBzd2FwCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBkdXAKICAgIGFzc2VydCAvLyBObyBzdGFrZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzQKICAgIC8vIHJld2FyZF9wZXJfdG9rZW4gPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjUwCiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhzdGFrZXIuc3Rha2UubmF0aXZlLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUubmF0aXZlLCBQUkVDSVNJT04pOwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IFBSRUNJU0lPTjogdWludDY0ID0gMV8wMDBfMDAwXzAwMF8wMDBfMDAwOwogICAgaW50YyA0IC8vIDEwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTEKICAgIC8vIGNvbnN0IHBlbmRpbmc6IHVpbnQ2NCA9IGFjY3J1ZWQgPiBzdGFrZXIucmV3YXJkRGVidC5uYXRpdmUgPyBhY2NydWVkIC0gc3Rha2VyLnJld2FyZERlYnQubmF0aXZlIDogMDsKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBjb3ZlciAyCiAgICA+CiAgICBieiBjbGFpbVJld2FyZHNfdGVybmFyeV9mYWxzZUAyCiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfZGlnIDQKICAgIC0KICAgIGZyYW1lX2J1cnkgMAoKY2xhaW1SZXdhcmRzX3Rlcm5hcnlfbWVyZ2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI1MwogICAgLy8gaWYgKHBlbmRpbmcgPiAwKSB7CiAgICBmcmFtZV9kaWcgMAogICAgYnogY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VANgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjU0LTI2MgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBwZW5kaW5nLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzAKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI1NgogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTcKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTgKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZnJhbWVfZGlnIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTQtMjYxCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHBlbmRpbmcsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNgogICAgLy8gZXhwb3J0IGNvbnN0IFNUQU5EQVJEX1RYTl9GRUU6IHVpbnQ2NCA9IDFfMDAwOwogICAgaW50Y18zIC8vIDEwMDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTQtMjYyCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHBlbmRpbmcsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0CiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICJyZXdhcmRfcGVyX3Rva2VuIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2NQogICAgLy8gY29uc3QgbmV3RGVidCA9IG11bERpdlcoc3Rha2VyLnN0YWtlLm5hdGl2ZSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLm5hdGl2ZSwgUFJFQ0lTSU9OKTsKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgZnJhbWVfZGlnIDIKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czo0CiAgICAvLyBleHBvcnQgY29uc3QgUFJFQ0lTSU9OOiB1aW50NjQgPSAxXzAwMF8wMDBfMDAwXzAwMF8wMDA7CiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjI5CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjY4CiAgICAvLyByZXdhcmREZWJ0OiBuZXcgVWludE42NChuZXdEZWJ0KSwKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2Ni0yNjkKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgLy8gICBzdGFrZTogc3Rha2VyLnN0YWtlLAogICAgLy8gICByZXdhcmREZWJ0OiBuZXcgVWludE42NChuZXdEZWJ0KSwKICAgIC8vIH0pLmNvcHkoKTsKICAgIGZyYW1lX2RpZyAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlY18wIC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2NgogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNjYtMjY5CiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgU3Rha2VJbmZvUmVjb3JkKHsKICAgIC8vICAgc3Rha2U6IHN0YWtlci5zdGFrZSwKICAgIC8vICAgcmV3YXJkRGVidDogbmV3IFVpbnRONjQobmV3RGVidCksCiAgICAvLyB9KS5jb3B5KCk7CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICByZXRzdWIKCmNsYWltUmV3YXJkc190ZXJuYXJ5X2ZhbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTEKICAgIC8vIGNvbnN0IHBlbmRpbmc6IHVpbnQ2NCA9IGFjY3J1ZWQgPiBzdGFrZXIucmV3YXJkRGVidC5uYXRpdmUgPyBhY2NydWVkIC0gc3Rha2VyLnJld2FyZERlYnQubmF0aXZlIDogMDsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDAKICAgIGIgY2xhaW1SZXdhcmRzX3Rlcm5hcnlfbWVyZ2VAMwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjpJbmplY3RlZFJld2FyZHNQb29sRmx1eEdhdGVkLnVuc3Rha2UocXVhbnRpdHk6IHVpbnQ2NCkgLT4gdm9pZDoKdW5zdGFrZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI3Mi0yNzMKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgLy8gdW5zdGFrZShxdWFudGl0eTogdWludDY0KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMCAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNzUKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZXhpc3RzLCAiTm8gc3Rha2UgZm91bmQgZm9yIHVzZXIiKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI3NQogICAgLy8gYXNzZXJ0KHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5leGlzdHMsICJObyBzdGFrZSBmb3VuZCBmb3IgdXNlciIpOwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gTm8gc3Rha2UgZm91bmQgZm9yIHVzZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlY18wIC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI3NgogICAgLy8gY29uc3QgcmVjID0gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLmNvcHkoKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI3NgogICAgLy8gY29uc3QgcmVjID0gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLmNvcHkoKTsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNzcKICAgIC8vIGNvbnN0IHN0YWtlTm93OiB1aW50NjQgPSByZWMuc3Rha2UubmF0aXZlOwogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjc4CiAgICAvLyBhc3NlcnQoc3Rha2VOb3cgPiAwLCAiTm8gc3Rha2UiKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIE5vIHN0YWtlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyODAKICAgIC8vIGNvbnN0IGFtb3VudFRvV2l0aGRyYXc6IHVpbnQ2NCA9IHF1YW50aXR5ID09PSAwID8gc3Rha2VOb3cgOiBxdWFudGl0eTsKICAgIGZyYW1lX2RpZyAtMQogICAgIQogICAgZnJhbWVfZGlnIC0xCiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjgxCiAgICAvLyBhc3NlcnQoc3Rha2VOb3cgPj0gYW1vdW50VG9XaXRoZHJhdywgIlVuc3Rha2UgYW1vdW50IGV4Y2VlZHMgYmFsYW5jZSIpOwogICAgZGlnIDEKICAgIDw9CiAgICBhc3NlcnQgLy8gVW5zdGFrZSBhbW91bnQgZXhjZWVkcyBiYWxhbmNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNAogICAgLy8gcmV3YXJkX3Blcl90b2tlbiA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMyAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyODUKICAgIC8vIGNvbnN0IGFjY3J1ZWQgPSBtdWxEaXZXKHN0YWtlTm93LCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUubmF0aXZlLCBQUkVDSVNJT04pOwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IFBSRUNJU0lPTjogdWludDY0ID0gMV8wMDBfMDAwXzAwMF8wMDBfMDAwOwogICAgaW50YyA0IC8vIDEwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyODYKICAgIC8vIGNvbnN0IHBlbmRpbmc6IHVpbnQ2NCA9IGFjY3J1ZWQgPiByZWMucmV3YXJkRGVidC5uYXRpdmUgPyBhY2NydWVkIC0gcmVjLnJld2FyZERlYnQubmF0aXZlIDogMDsKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBjb3ZlciAyCiAgICA+CiAgICBieiB1bnN0YWtlX3Rlcm5hcnlfZmFsc2VAMgogICAgZnJhbWVfZGlnIDQKICAgIGZyYW1lX2RpZyA1CiAgICAtCiAgICBmcmFtZV9idXJ5IDAKCnVuc3Rha2VfdGVybmFyeV9tZXJnZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjg4CiAgICAvLyBpZiAocGVuZGluZyA+IDApIHsKICAgIGZyYW1lX2RpZyAwCiAgICBieiB1bnN0YWtlX2FmdGVyX2lmX2Vsc2VANgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjkwLTI5OAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBwZW5kaW5nLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzAKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI5MgogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOTMKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOTQKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZnJhbWVfZGlnIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOTAtMjk3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHBlbmRpbmcsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNgogICAgLy8gZXhwb3J0IGNvbnN0IFNUQU5EQVJEX1RYTl9GRUU6IHVpbnQ2NCA9IDFfMDAwOwogICAgaW50Y18zIC8vIDEwMDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOTAtMjk4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHBlbmRpbmcsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMDItMzEwCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudFRvV2l0aGRyYXcsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA1IC8vICJzdGFrZWRfYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzA0CiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMwNQogICAgLy8gYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMwNgogICAgLy8gc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBmcmFtZV9kaWcgMwogICAgZHVwCiAgICBjb3ZlciA0CiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzAyLTMwOQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBhbW91bnRUb1dpdGhkcmF3LAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTYKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGNfMyAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzAyLTMxMAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBhbW91bnRUb1dpdGhkcmF3LAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMyCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gInRvdGFsX3N0YWtlZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMTMKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUubmF0aXZlIC0gYW1vdW50VG9XaXRoZHJhdyk7CiAgICBidG9pCiAgICBkaWcgMQogICAgLQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzIKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMTMKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUubmF0aXZlIC0gYW1vdW50VG9XaXRoZHJhdyk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzE2CiAgICAvLyBjb25zdCByZW1haW5pbmc6IHVpbnQ2NCA9IHN0YWtlTm93IC0gYW1vdW50VG9XaXRoZHJhdzsKICAgIGZyYW1lX2RpZyAyCiAgICBzd2FwCiAgICAtCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzE3CiAgICAvLyBpZiAocmVtYWluaW5nID09PSAwKSB7CiAgICBibnogdW5zdGFrZV9lbHNlX2JvZHlAOQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzE5CiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZGVsZXRlKCk7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMTkKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5kZWxldGUoKTsKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDAKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA2IC8vICJudW1fc3Rha2VycyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMjAKICAgIC8vIHRoaXMubnVtX3N0YWtlcnMudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZSAtIDEpOwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwCiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlYyA2IC8vICJudW1fc3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMyMAogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlIC0gMSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgp1bnN0YWtlX2Vsc2VfYm9keUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzQKICAgIC8vIHJld2FyZF9wZXJfdG9rZW4gPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzIzCiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhyZW1haW5pbmcsIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5uYXRpdmUsIFBSRUNJU0lPTik7CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGZyYW1lX2RpZyAxCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBQUkVDSVNJT046IHVpbnQ2NCA9IDFfMDAwXzAwMF8wMDBfMDAwXzAwMDsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMjUKICAgIC8vIHN0YWtlOiBuZXcgVWludE42NChyZW1haW5pbmcpLAogICAgc3dhcAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzI2CiAgICAvLyByZXdhcmREZWJ0OiBuZXcgVWludE42NChuZXdEZWJ0KSwKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMyNC0zMjcKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgLy8gICBzdGFrZTogbmV3IFVpbnRONjQocmVtYWluaW5nKSwKICAgIC8vICAgcmV3YXJkRGVidDogbmV3IFVpbnRONjQobmV3RGVidCksCiAgICAvLyB9KS5jb3B5KCk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlY18wIC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMyNAogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMjQtMzI3CiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgU3Rha2VJbmZvUmVjb3JkKHsKICAgIC8vICAgc3Rha2U6IG5ldyBVaW50TjY0KHJlbWFpbmluZyksCiAgICAvLyAgIHJld2FyZERlYnQ6IG5ldyBVaW50TjY0KG5ld0RlYnQpLAogICAgLy8gfSkuY29weSgpOwogICAgc3dhcAogICAgYm94X3B1dAogICAgcmV0c3ViCgp1bnN0YWtlX3Rlcm5hcnlfZmFsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI4NgogICAgLy8gY29uc3QgcGVuZGluZzogdWludDY0ID0gYWNjcnVlZCA+IHJlYy5yZXdhcmREZWJ0Lm5hdGl2ZSA/IGFjY3J1ZWQgLSByZWMucmV3YXJkRGVidC5uYXRpdmUgOiAwOwogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMAogICAgYiB1bnN0YWtlX3Rlcm5hcnlfbWVyZ2VAMwo=",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 9,
            "num_uints": 1
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "admin_address": {
                    "type": "bytes",
                    "key": "admin_address"
                },
                "contract_version": {
                    "type": "bytes",
                    "key": "contract_version"
                },
                "flux_oracle_app": {
                    "type": "uint64",
                    "key": "flux_oracle_app"
                },
                "flux_tier_required": {
                    "type": "bytes",
                    "key": "flux_tier_required"
                },
                "last_reward_injection_time": {
                    "type": "bytes",
                    "key": "last_reward_injection_time"
                },
                "num_stakers": {
                    "type": "bytes",
                    "key": "num_stakers"
                },
                "reward_asset_id": {
                    "type": "bytes",
                    "key": "reward_asset_id"
                },
                "reward_per_token": {
                    "type": "bytes",
                    "key": "reward_per_token"
                },
                "staked_asset_id": {
                    "type": "bytes",
                    "key": "staked_asset_id"
                },
                "total_staked": {
                    "type": "bytes",
                    "key": "total_staked"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "irpfg",
        "methods": [
            {
                "name": "createApplication",
                "args": [
                    {
                        "type": "address",
                        "name": "adminAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "initApplication",
                "args": [
                    {
                        "type": "uint64",
                        "name": "stakedAssetId",
                        "desc": "- The asset ID of the token to be staked in the pool."
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAssetId",
                        "desc": "- The asset ID of the token to be distributed as rewards."
                    },
                    {
                        "type": "pay",
                        "name": "initialBalanceTxn",
                        "desc": "- The payment transaction providing the initial minimum balance for the contract."
                    },
                    {
                        "type": "uint64",
                        "name": "fluxTierRequired"
                    },
                    {
                        "type": "application",
                        "name": "fluxOracleApp"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Initializes the staking pool application with the specified staked asset and reward asset.\n\nSets up global state variables, verifies the initial funding payment, and opts the contract into the staked asset\nand reward asset if necesary.\nOnly the admin address can call this function."
            },
            {
                "name": "updateAdminAddress",
                "args": [
                    {
                        "type": "account",
                        "name": "adminAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "injectRewards",
                "args": [
                    {
                        "type": "axfer",
                        "name": "rewardTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "quantity"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAssetId"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "deleteApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "stake",
                "args": [
                    {
                        "type": "axfer",
                        "name": "stakeTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "quantity"
                    },
                    {
                        "type": "pay",
                        "name": "mbrTxn"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "claimRewards",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "unstake",
                "args": [
                    {
                        "type": "uint64",
                        "name": "quantity"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "gas",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            }
        ],
        "networks": {}
    },
    "bare_call_config": {}
}