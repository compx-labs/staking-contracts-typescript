{
    "hints": {
        "createApplication(address)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "initApplication(uint64,uint64,pay,uint64,application)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateAdminAddress(account)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getMBRForPoolCreation()(uint64)": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "mbrReturn",
                    "elements": [
                        [
                            "mbrPayment",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "initStorage(pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "injectRewards(axfer,uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "deleteApplication()void": {
            "call_config": {
                "delete_application": "CALL"
            }
        },
        "stake(axfer,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "accrueRewards()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimRewards()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "unstake(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "gas()void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQ4IDMwMCA3MDAgMTAwMCA2NTAgMTAwMDAwIDk2MDUzMDAgNTMzMDAgMTAwMDAwMDAwMDAwMDAwMAogICAgYnl0ZWNibG9jayAic3Rha2VycyIgIm51bV9zdGFrZXJzIiAidG90YWxfc3Rha2VkIiAiaW5qZWN0ZWRfYXNhX3Jld2FyZHMiICJyZXdhcmRfYXNzZXRfaWQiIDB4MDAwMDAwMDAwMDAwMDAwMCAiYWRtaW5fYWRkcmVzcyIgInN0YWtlZF9hc3NldF9pZCIgMHgxNTFmN2M3NSAweDA2ODEwMSAibGFzdF9yZXdhcmRfaW5qZWN0aW9uX3RpbWUiICJmbHV4X3RpZXJfcmVxdWlyZWQiICJmbHV4X29yYWNsZV9hcHAiIGJhc2UzMihBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQSkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0LTM1CiAgICAvLyBAY29udHJhY3QoeyBuYW1lOiAiaXJwZmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIEluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9hZnRlcl9pZl9lbHNlQDE4CiAgICBwdXNoYnl0ZXNzIDB4ZDMyNGJlYTQgMHg5NDIwMjA2NCAweDMyZGI3YTZkIDB4NGM0MzY3MjYgMHg0N2NmY2MwNCAweDM0NzAwN2ViIDB4MjQ4N2MzMmMgMHhmNGViNGEwMyAweGVhNGJjYTU3IDB4YTVhZTZiZDEgMHg4MTNjZTg5YSAweDMxNzJjYTlkIC8vIG1ldGhvZCAiY3JlYXRlQXBwbGljYXRpb24oYWRkcmVzcyl2b2lkIiwgbWV0aG9kICJpbml0QXBwbGljYXRpb24odWludDY0LHVpbnQ2NCxwYXksdWludDY0LGFwcGxpY2F0aW9uKXZvaWQiLCBtZXRob2QgInVwZGF0ZUFkbWluQWRkcmVzcyhhY2NvdW50KXZvaWQiLCBtZXRob2QgImdldE1CUkZvclBvb2xDcmVhdGlvbigpKHVpbnQ2NCkiLCBtZXRob2QgImluaXRTdG9yYWdlKHBheSl2b2lkIiwgbWV0aG9kICJpbmplY3RSZXdhcmRzKGF4ZmVyLHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAiZGVsZXRlQXBwbGljYXRpb24oKXZvaWQiLCBtZXRob2QgInN0YWtlKGF4ZmVyLHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJhY2NydWVSZXdhcmRzKCl2b2lkIiwgbWV0aG9kICJjbGFpbVJld2FyZHMoKXZvaWQiLCBtZXRob2QgInVuc3Rha2UodWludDY0KXZvaWQiLCBtZXRob2QgImdhcygpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG1haW5fY3JlYXRlQXBwbGljYXRpb25fcm91dGVAMyBtYWluX2luaXRBcHBsaWNhdGlvbl9yb3V0ZUA0IG1haW5fdXBkYXRlQWRtaW5BZGRyZXNzX3JvdXRlQDUgbWFpbl9nZXRNQlJGb3JQb29sQ3JlYXRpb25fcm91dGVANiBtYWluX2luaXRTdG9yYWdlX3JvdXRlQDcgbWFpbl9pbmplY3RSZXdhcmRzX3JvdXRlQDggbWFpbl9kZWxldGVBcHBsaWNhdGlvbl9yb3V0ZUA5IG1haW5fc3Rha2Vfcm91dGVAMTAgbWFpbl9hY2NydWVSZXdhcmRzX3JvdXRlQDExIG1haW5fY2xhaW1SZXdhcmRzX3JvdXRlQDEyIG1haW5fdW5zdGFrZV9yb3V0ZUAxMyBtYWluX2dhc19yb3V0ZUAxNAoKbWFpbl9hZnRlcl9pZl9lbHNlQDE4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzQtMzUKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJpcnBmZyIsIGF2bVZlcnNpb246IDExIH0pCiAgICAvLyBleHBvcnQgY2xhc3MgSW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZCBleHRlbmRzIENvbnRyYWN0IHsKICAgIGludGNfMCAvLyAwCiAgICByZXR1cm4KCm1haW5fZ2FzX3JvdXRlQDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTEyCiAgICAvLyBnYXMoKTogdm9pZCB7fQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX3Vuc3Rha2Vfcm91dGVAMTM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MDcKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNC0zNQogICAgLy8gQGNvbnRyYWN0KHsgbmFtZTogImlycGZnIiwgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBJbmplY3RlZFJld2FyZHNQb29sRmx1eEdhdGVkIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDA3CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGNhbGxzdWIgdW5zdGFrZQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jbGFpbVJld2FyZHNfcm91dGVAMTI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozODYKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBjYWxsc3ViIGNsYWltUmV3YXJkcwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9hY2NydWVSZXdhcmRzX3JvdXRlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzExCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBhY2NydWVSZXdhcmRzCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX3N0YWtlX3JvdXRlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjI4CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzQtMzUKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJpcnBmZyIsIGF2bVZlcnNpb246IDExIH0pCiAgICAvLyBleHBvcnQgY2xhc3MgSW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgcHVzaGludCA0IC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIyOAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIHN0YWtlCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2RlbGV0ZUFwcGxpY2F0aW9uX3JvdXRlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxOTEKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJEZWxldGVBcHBsaWNhdGlvbiIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgPT0KICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IERlbGV0ZUFwcGxpY2F0aW9uCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgZGVsZXRlQXBwbGljYXRpb24KICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5faW5qZWN0UmV3YXJkc19yb3V0ZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTc3CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzQtMzUKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJpcnBmZyIsIGF2bVZlcnNpb246IDExIH0pCiAgICAvLyBleHBvcnQgY2xhc3MgSW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgcHVzaGludCA0IC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE3NwogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIGluamVjdFJld2FyZHMKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5faW5pdFN0b3JhZ2Vfcm91dGVANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE1NAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0LTM1CiAgICAvLyBAY29udHJhY3QoeyBuYW1lOiAiaXJwZmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIEluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE1NAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIGluaXRTdG9yYWdlCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldE1CUkZvclBvb2xDcmVhdGlvbl9yb3V0ZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTM3CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBnZXRNQlJGb3JQb29sQ3JlYXRpb24KICAgIGl0b2IKICAgIGJ5dGVjIDggLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fdXBkYXRlQWRtaW5BZGRyZXNzX3JvdXRlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMjQKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNC0zNQogICAgLy8gQGNvbnRyYWN0KHsgbmFtZTogImlycGZnIiwgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBJbmplY3RlZFJld2FyZHNQb29sRmx1eEdhdGVkIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYXMgQWNjb3VudHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEyNAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIHVwZGF0ZUFkbWluQWRkcmVzcwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9pbml0QXBwbGljYXRpb25fcm91dGVANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjgwCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzQtMzUKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJpcnBmZyIsIGF2bVZlcnNpb246IDExIH0pCiAgICAvLyBleHBvcnQgY2xhc3MgSW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgYnRvaQogICAgdHhuYXMgQXBwbGljYXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo4MAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBjYWxsc3ViIGluaXRBcHBsaWNhdGlvbgogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9jcmVhdGVBcHBsaWNhdGlvbl9yb3V0ZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NjQKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiwgb25DcmVhdGU6ICJyZXF1aXJlIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0LTM1CiAgICAvLyBAY29udHJhY3QoeyBuYW1lOiAiaXJwZmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIEluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo2NAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiLCBvbkNyZWF0ZTogInJlcXVpcmUiIH0pCiAgICBjYWxsc3ViIGNyZWF0ZUFwcGxpY2F0aW9uCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gX3B1eWFfbGliLnV0aWwuZW5zdXJlX2J1ZGdldChyZXF1aXJlZF9idWRnZXQ6IHVpbnQ2NCwgZmVlX3NvdXJjZTogdWludDY0KSAtPiB2b2lkOgplbnN1cmVfYnVkZ2V0OgogICAgcHJvdG8gMiAwCiAgICBmcmFtZV9kaWcgLTIKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgICsKCmVuc3VyZV9idWRnZXRfd2hpbGVfdG9wQDE6CiAgICBmcmFtZV9kaWcgMAogICAgZ2xvYmFsIE9wY29kZUJ1ZGdldAogICAgPgogICAgYnogZW5zdXJlX2J1ZGdldF9hZnRlcl93aGlsZUA3CiAgICBpdHhuX2JlZ2luCiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgcHVzaGludCA1IC8vIERlbGV0ZUFwcGxpY2F0aW9uCiAgICBpdHhuX2ZpZWxkIE9uQ29tcGxldGlvbgogICAgYnl0ZWMgOSAvLyAweDA2ODEwMQogICAgaXR4bl9maWVsZCBBcHByb3ZhbFByb2dyYW0KICAgIGJ5dGVjIDkgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KICAgIGZyYW1lX2RpZyAtMQogICAgc3dpdGNoIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANjoKICAgIGl0eG5fc3VibWl0CiAgICBiIGVuc3VyZV9idWRnZXRfd2hpbGVfdG9wQDEKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0OgogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgaXR4bl9maWVsZCBGZWUKICAgIGIgZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDYKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzOgogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA2CgplbnN1cmVfYnVkZ2V0X2FmdGVyX3doaWxlQDc6CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC5jcmVhdGVBcHBsaWNhdGlvbihhZG1pbkFkZHJlc3M6IGJ5dGVzKSAtPiB2b2lkOgpjcmVhdGVBcHBsaWNhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjY0LTY1CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIsIG9uQ3JlYXRlOiAicmVxdWlyZSIgfSkKICAgIC8vIGNyZWF0ZUFwcGxpY2F0aW9uKGFkbWluQWRkcmVzczogQWRkcmVzcyk6IHZvaWQgewogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MgogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA2IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NjYKICAgIC8vIHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSA9IGFkbWluQWRkcmVzcy5uYXRpdmU7CiAgICBmcmFtZV9kaWcgLTEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1OAogICAgLy8gY29udHJhY3RfdmVyc2lvbiA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBwdXNoYnl0ZXNzICJjb250cmFjdF92ZXJzaW9uIiAweDAwMDAwMDAwMDAwMDBiYzIgLy8gImNvbnRyYWN0X3ZlcnNpb24iLCAweDAwMDAwMDAwMDAwMDBiYzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjY3CiAgICAvLyB0aGlzLmNvbnRyYWN0X3ZlcnNpb24udmFsdWUgPSBuZXcgVWludE42NChWRVJTSU9OKTsKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC5pbml0QXBwbGljYXRpb24oc3Rha2VkQXNzZXRJZDogdWludDY0LCByZXdhcmRBc3NldElkOiB1aW50NjQsIGluaXRpYWxCYWxhbmNlVHhuOiB1aW50NjQsIGZsdXhUaWVyUmVxdWlyZWQ6IHVpbnQ2NCwgZmx1eE9yYWNsZUFwcDogdWludDY0KSAtPiB2b2lkOgppbml0QXBwbGljYXRpb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo4MC04NwogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICAvLyBpbml0QXBwbGljYXRpb24oCiAgICAvLyAgIHN0YWtlZEFzc2V0SWQ6IHVpbnQ2NCwKICAgIC8vICAgcmV3YXJkQXNzZXRJZDogdWludDY0LAogICAgLy8gICBpbml0aWFsQmFsYW5jZVR4bjogZ3R4bi5QYXltZW50VHhuLAogICAgLy8gICBmbHV4VGllclJlcXVpcmVkOiB1aW50NjQsCiAgICAvLyAgIGZsdXhPcmFjbGVBcHA6IEFwcGxpY2F0aW9uCiAgICAvLyApOiB2b2lkIHsKICAgIHByb3RvIDUgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6ODgKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBpbml0IGFwcGxpY2F0aW9uIik7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MgogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNiAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo4OAogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGluaXQgYXBwbGljYXRpb24iKTsKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gaW5pdCBhcHBsaWNhdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTAKICAgIC8vIHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlID0gbmV3IFVpbnRONjQoc3Rha2VkQXNzZXRJZCk7CiAgICBmcmFtZV9kaWcgLTUKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwCiAgICAvLyBzdGFrZWRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgYnl0ZWMgNyAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTAKICAgIC8vIHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlID0gbmV3IFVpbnRONjQoc3Rha2VkQXNzZXRJZCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTEKICAgIC8vIHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlID0gbmV3IFVpbnRONjQocmV3YXJkQXNzZXRJZCk7CiAgICBmcmFtZV9kaWcgLTQKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgYnl0ZWMgNCAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTEKICAgIC8vIHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlID0gbmV3IFVpbnRONjQocmV3YXJkQXNzZXRJZCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDQKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo5MgogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludE42NCgwKTsKICAgIGJ5dGVjIDUgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDgKICAgIC8vIGxhc3RfcmV3YXJkX2luamVjdGlvbl90aW1lID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjIDEwIC8vICJsYXN0X3Jld2FyZF9pbmplY3Rpb25fdGltZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjkzCiAgICAvLyB0aGlzLmxhc3RfcmV3YXJkX2luamVjdGlvbl90aW1lLnZhbHVlID0gbmV3IFVpbnRONjQoMCk7CiAgICBieXRlYyA1IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ2CiAgICAvLyBpbmplY3RlZF9hc2FfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlY18zIC8vICJpbmplY3RlZF9hc2FfcmV3YXJkcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjk0CiAgICAvLyB0aGlzLmluamVjdGVkX2FzYV9yZXdhcmRzLnZhbHVlID0gbmV3IFVpbnRONjQoMCk7CiAgICBieXRlYyA1IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjU2CiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlY18xIC8vICJudW1fc3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjk1CiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnRONjQoMCk7CiAgICBieXRlYyA1IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjk2CiAgICAvLyB0aGlzLmZsdXhfdGllcl9yZXF1aXJlZC52YWx1ZSA9IG5ldyBVaW50TjgoZmx1eFRpZXJSZXF1aXJlZCk7CiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA3IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjYwCiAgICAvLyBmbHV4X3RpZXJfcmVxdWlyZWQgPSBHbG9iYWxTdGF0ZTxVaW50Tjg+KCk7CiAgICBieXRlYyAxMSAvLyAiZmx1eF90aWVyX3JlcXVpcmVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTYKICAgIC8vIHRoaXMuZmx1eF90aWVyX3JlcXVpcmVkLnZhbHVlID0gbmV3IFVpbnROOChmbHV4VGllclJlcXVpcmVkKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo2MgogICAgLy8gZmx1eF9vcmFjbGVfYXBwID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KCk7CiAgICBieXRlYyAxMiAvLyAiZmx1eF9vcmFjbGVfYXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTcKICAgIC8vIHRoaXMuZmx1eF9vcmFjbGVfYXBwLnZhbHVlID0gZmx1eE9yYWNsZUFwcAogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTktMTAyCiAgICAvLyBhc3NlcnRNYXRjaChpbml0aWFsQmFsYW5jZVR4biwgewogICAgLy8gICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogSU5JVElBTF9QQVlfQU1PVU5ULAogICAgLy8gfSk7CiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMDAKICAgIC8vIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo5OS0xMDIKICAgIC8vIGFzc2VydE1hdGNoKGluaXRpYWxCYWxhbmNlVHhuLCB7CiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBJTklUSUFMX1BBWV9BTU9VTlQsCiAgICAvLyB9KTsKICAgID09CiAgICBieiBpbml0QXBwbGljYXRpb25fYm9vbF9mYWxzZUAzCiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjE2CiAgICAvLyBleHBvcnQgY29uc3QgSU5JVElBTF9QQVlfQU1PVU5UOiB1aW50NjQgPSAxMF8wMDBfMDAwOwogICAgcHVzaGludCAxMDAwMDAwMCAvLyAxMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OTktMTAyCiAgICAvLyBhc3NlcnRNYXRjaChpbml0aWFsQmFsYW5jZVR4biwgewogICAgLy8gICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogSU5JVElBTF9QQVlfQU1PVU5ULAogICAgLy8gfSk7CiAgICA9PQogICAgYnogaW5pdEFwcGxpY2F0aW9uX2Jvb2xfZmFsc2VAMwogICAgaW50Y18xIC8vIDEKCmluaXRBcHBsaWNhdGlvbl9ib29sX21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo5OS0xMDIKICAgIC8vIGFzc2VydE1hdGNoKGluaXRpYWxCYWxhbmNlVHhuLCB7CiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBJTklUSUFMX1BBWV9BTU9VTlQsCiAgICAvLyB9KTsKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMDQtMTExCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHN0YWtlZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMDcKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEwOAogICAgLy8gYXNzZXRBbW91bnQ6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBmcmFtZV9kaWcgLTUKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMDQtMTEwCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHN0YWtlZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNwogICAgLy8gZXhwb3J0IGNvbnN0IFNUQU5EQVJEX1RYTl9GRUU6IHVpbnQ2NCA9IDFfMDAwOwogICAgaW50YyA1IC8vIDEwMDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMDQtMTExCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHN0YWtlZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTEyCiAgICAvLyBpZiAocmV3YXJkQXNzZXRJZCAhPT0gc3Rha2VkQXNzZXRJZCkgewogICAgZnJhbWVfZGlnIC00CiAgICBmcmFtZV9kaWcgLTUKICAgICE9CiAgICBieiBpbml0QXBwbGljYXRpb25fYWZ0ZXJfaWZfZWxzZUA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMTMtMTIwCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHJld2FyZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMTYKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjExNwogICAgLy8gYXNzZXRBbW91bnQ6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBmcmFtZV9kaWcgLTQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMTMtMTE5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHJld2FyZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNwogICAgLy8gZXhwb3J0IGNvbnN0IFNUQU5EQVJEX1RYTl9GRUU6IHVpbnQ2NCA9IDFfMDAwOwogICAgaW50YyA1IC8vIDEwMDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMTMtMTIwCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHJld2FyZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKaW5pdEFwcGxpY2F0aW9uX2FmdGVyX2lmX2Vsc2VAODoKICAgIHJldHN1YgoKaW5pdEFwcGxpY2F0aW9uX2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMCAvLyAwCiAgICBiIGluaXRBcHBsaWNhdGlvbl9ib29sX21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC51cGRhdGVBZG1pbkFkZHJlc3MoYWRtaW5BZGRyZXNzOiBieXRlcykgLT4gdm9pZDoKdXBkYXRlQWRtaW5BZGRyZXNzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTI0LTEyNQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICAvLyB1cGRhdGVBZG1pbkFkZHJlc3MoYWRtaW5BZGRyZXNzOiBBY2NvdW50KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEyNgogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIHVwZGF0ZSBhZG1pbiBhZGRyZXNzIik7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MgogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNiAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMjYKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiB1cGRhdGUgYWRtaW4gYWRkcmVzcyIpOwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGFkbWluIGNhbiB1cGRhdGUgYWRtaW4gYWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTIKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWMgNiAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEyNwogICAgLy8gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlID0gYWRtaW5BZGRyZXNzOwogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuZ2V0TUJSRm9yUG9vbENyZWF0aW9uKCkgLT4gdWludDY0OgpnZXRNQlJGb3JQb29sQ3JlYXRpb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMzctMTM4CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIC8vIGdldE1CUkZvclBvb2xDcmVhdGlvbigpOiBtYnJSZXR1cm4gewogICAgcHJvdG8gMCAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMzkKICAgIC8vIGxldCBub25BbGdvUmV3YXJkTUJSOiB1aW50NjQgPSAwOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgZHVwCiAgICBieXRlYyA0IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTQwCiAgICAvLyBpZiAodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlICE9PSAwKSB7CiAgICBidG9pCiAgICBieiBnZXRNQlJGb3JQb29sQ3JlYXRpb25fYWZ0ZXJfaWZfZWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTMKICAgIC8vIGV4cG9ydCBjb25zdCBBU1NFVF9IT0xESU5HX0ZFRTogdWludDY0ID0gMTAwMDAwOyAvLyBjcmVhdGlvbi9ob2xkaW5nIGZlZSBmb3IgYXNzZXQKICAgIGludGMgNyAvLyAxMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE0MQogICAgLy8gbm9uQWxnb1Jld2FyZE1CUiArPSBBU1NFVF9IT0xESU5HX0ZFRTsKICAgIGZyYW1lX2J1cnkgMAoKZ2V0TUJSRm9yUG9vbENyZWF0aW9uX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNAogICAgLy8gZXhwb3J0IGNvbnN0IEFMR09SQU5EX0FDQ09VTlRfTUlOX0JBTEFOQ0U6IHVpbnQ2NCA9IDEwMDAwMDsKICAgIGludGMgNyAvLyAxMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE0NC0xNDUKICAgIC8vIEFMR09SQU5EX0FDQ09VTlRfTUlOX0JBTEFOQ0UgKwogICAgLy8gbm9uQWxnb1Jld2FyZE1CUiArCiAgICBmcmFtZV9kaWcgMAogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTM0CiAgICAvLyByZXR1cm4gU0NCT1hfUEVSQk9YICsgdG90YWxOdW1CeXRlcyAqIFNDQk9YX1BFUkJZVEU7CiAgICBpbnRjIDggLy8gOTYwNTMwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTQ0LTE0NgogICAgLy8gQUxHT1JBTkRfQUNDT1VOVF9NSU5fQkFMQU5DRSArCiAgICAvLyBub25BbGdvUmV3YXJkTUJSICsKICAgIC8vIHRoaXMuY29zdEZvckJveFN0b3JhZ2UoNyArIDQ4ICogTUFYX1NUQUtFUlNfUEVSX1BPT0wpICsKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjEzNAogICAgLy8gcmV0dXJuIFNDQk9YX1BFUkJPWCArIHRvdGFsTnVtQnl0ZXMgKiBTQ0JPWF9QRVJCWVRFOwogICAgaW50YyA5IC8vIDUzMzAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNDQtMTQ3CiAgICAvLyBBTEdPUkFORF9BQ0NPVU5UX01JTl9CQUxBTkNFICsKICAgIC8vIG5vbkFsZ29SZXdhcmRNQlIgKwogICAgLy8gdGhpcy5jb3N0Rm9yQm94U3RvcmFnZSg3ICsgNDggKiBNQVhfU1RBS0VSU19QRVJfUE9PTCkgKwogICAgLy8gdGhpcy5jb3N0Rm9yQm94U3RvcmFnZSg3ICsgOCAqIDE1KTsKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE0OS0xNTEKICAgIC8vIHJldHVybiB7CiAgICAvLyAgIG1iclBheW1lbnQ6IG1iciwKICAgIC8vIH07CiAgICBzd2FwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC5pbml0U3RvcmFnZShtYnJQYXltZW50OiB1aW50NjQpIC0+IHZvaWQ6CmluaXRTdG9yYWdlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTU0LTE1NQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICAvLyBpbml0U3RvcmFnZShtYnJQYXltZW50OiBndHhuLlBheW1lbnRUeG4pOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTU2CiAgICAvLyBhc3NlcnQoIXRoaXMuc3Rha2Vycy5leGlzdHMsICJzdGFraW5nIHBvb2wgYWxyZWFkeSBpbml0aWFsaXplZCIpOwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAhCiAgICBhc3NlcnQgLy8gc3Rha2luZyBwb29sIGFscmVhZHkgaW5pdGlhbGl6ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE1NwogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGluaXQgc3RvcmFnZSIpOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTIKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDYgLy8gImFkbWluX2FkZHJlc3MiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTU3CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gaW5pdCBzdG9yYWdlIik7CiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIGluaXQgc3RvcmFnZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTU5CiAgICAvLyBsZXQgbm9uQWxnb1Jld2FyZE1CUjogdWludDY0ID0gMDsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MgogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGR1cAogICAgYnl0ZWMgNCAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE2MAogICAgLy8gaWYgKHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSAhPT0gMCkgewogICAgYnRvaQogICAgYnogaW5pdFN0b3JhZ2VfYWZ0ZXJfaWZfZWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTMKICAgIC8vIGV4cG9ydCBjb25zdCBBU1NFVF9IT0xESU5HX0ZFRTogdWludDY0ID0gMTAwMDAwOyAvLyBjcmVhdGlvbi9ob2xkaW5nIGZlZSBmb3IgYXNzZXQKICAgIGludGMgNyAvLyAxMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE2MQogICAgLy8gbm9uQWxnb1Jld2FyZE1CUiArPSBBU1NFVF9IT0xESU5HX0ZFRTsKICAgIGZyYW1lX2J1cnkgMQoKaW5pdFN0b3JhZ2VfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjE0CiAgICAvLyBleHBvcnQgY29uc3QgQUxHT1JBTkRfQUNDT1VOVF9NSU5fQkFMQU5DRTogdWludDY0ID0gMTAwMDAwOwogICAgaW50YyA3IC8vIDEwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTY0LTE2NQogICAgLy8gQUxHT1JBTkRfQUNDT1VOVF9NSU5fQkFMQU5DRSArCiAgICAvLyBub25BbGdvUmV3YXJkTUJSICsKICAgIGZyYW1lX2RpZyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxMzQKICAgIC8vIHJldHVybiBTQ0JPWF9QRVJCT1ggKyB0b3RhbE51bUJ5dGVzICogU0NCT1hfUEVSQllURTsKICAgIGludGMgOCAvLyA5NjA1MzAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNjQtMTY2CiAgICAvLyBBTEdPUkFORF9BQ0NPVU5UX01JTl9CQUxBTkNFICsKICAgIC8vIG5vbkFsZ29SZXdhcmRNQlIgKwogICAgLy8gdGhpcy5jb3N0Rm9yQm94U3RvcmFnZSg3ICsgNDggKiBNQVhfU1RBS0VSU19QRVJfUE9PTCkgKwogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTM0CiAgICAvLyByZXR1cm4gU0NCT1hfUEVSQk9YICsgdG90YWxOdW1CeXRlcyAqIFNDQk9YX1BFUkJZVEU7CiAgICBpbnRjIDkgLy8gNTMzMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE2NC0xNjcKICAgIC8vIEFMR09SQU5EX0FDQ09VTlRfTUlOX0JBTEFOQ0UgKwogICAgLy8gbm9uQWxnb1Jld2FyZE1CUiArCiAgICAvLyB0aGlzLmNvc3RGb3JCb3hTdG9yYWdlKDcgKyA0OCAqIE1BWF9TVEFLRVJTX1BFUl9QT09MKSArCiAgICAvLyB0aGlzLmNvc3RGb3JCb3hTdG9yYWdlKDcgKyA4ICogMTUpOwogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTYzLTE2NwogICAgLy8gY29uc3QgcG9vbE1CUjogdWludDY0ID0KICAgIC8vICAgQUxHT1JBTkRfQUNDT1VOVF9NSU5fQkFMQU5DRSArCiAgICAvLyAgIG5vbkFsZ29SZXdhcmRNQlIgKwogICAgLy8gICB0aGlzLmNvc3RGb3JCb3hTdG9yYWdlKDcgKyA0OCAqIE1BWF9TVEFLRVJTX1BFUl9QT09MKSArCiAgICAvLyAgIHRoaXMuY29zdEZvckJveFN0b3JhZ2UoNyArIDggKiAxNSk7CiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE3MAogICAgLy8gYXNzZXJ0TWF0Y2gobWJyUGF5bWVudCwgeyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsIGFtb3VudDogcG9vbE1CUiB9KTsKICAgIGZyYW1lX2RpZyAtMQogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgYnogaW5pdFN0b3JhZ2VfYm9vbF9mYWxzZUA1CiAgICBmcmFtZV9kaWcgLTEKICAgIGd0eG5zIEFtb3VudAogICAgZnJhbWVfZGlnIDAKICAgID09CiAgICBieiBpbml0U3RvcmFnZV9ib29sX2ZhbHNlQDUKICAgIGludGNfMSAvLyAxCgppbml0U3RvcmFnZV9ib29sX21lcmdlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNzAKICAgIC8vIGFzc2VydE1hdGNoKG1iclBheW1lbnQsIHsgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCBhbW91bnQ6IHBvb2xNQlIgfSk7CiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIHN0YWtlcnMgPSBCb3g8U3RhdGljQXJyYXk8U3Rha2VJbmZvLCA2NTA+Pih7IGtleTogInN0YWtlcnMiIH0pOwogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE3MQogICAgLy8gdGhpcy5zdGFrZXJzLmNyZWF0ZSgpOwogICAgcHVzaGludCAzMTIwMCAvLyAzMTIwMAogICAgYm94X2NyZWF0ZQogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNzIKICAgIC8vIHRoaXMubWluaW11bV9iYWxhbmNlLnZhbHVlID0gbmV3IFVpbnRONjQocG9vbE1CUik7CiAgICBmcmFtZV9kaWcgMAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTQKICAgIC8vIG1pbmltdW1fYmFsYW5jZSA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBwdXNoYnl0ZXMgIm1pbmltdW1fYmFsYW5jZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE3MgogICAgLy8gdGhpcy5taW5pbXVtX2JhbGFuY2UudmFsdWUgPSBuZXcgVWludE42NChwb29sTUJSKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCmluaXRTdG9yYWdlX2Jvb2xfZmFsc2VANToKICAgIGludGNfMCAvLyAwCiAgICBiIGluaXRTdG9yYWdlX2Jvb2xfbWVyZ2VANgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjpJbmplY3RlZFJld2FyZHNQb29sRmx1eEdhdGVkLmluamVjdFJld2FyZHMocmV3YXJkVHhuOiB1aW50NjQsIHF1YW50aXR5OiB1aW50NjQsIHJld2FyZEFzc2V0SWQ6IHVpbnQ2NCkgLT4gdm9pZDoKaW5qZWN0UmV3YXJkczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE3Ny0xNzgKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgLy8gaW5qZWN0UmV3YXJkcyhyZXdhcmRUeG46IGd0eG4uQXNzZXRUcmFuc2ZlclR4biwgcXVhbnRpdHk6IHVpbnQ2NCwgcmV3YXJkQXNzZXRJZDogdWludDY0KTogdm9pZCB7CiAgICBwcm90byAzIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE3OQogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGluamVjdCByZXdhcmRzIik7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MgogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNiAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxNzkKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBpbmplY3QgcmV3YXJkcyIpOwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGFkbWluIGNhbiBpbmplY3QgcmV3YXJkcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTgxLTE4NgogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldChyZXdhcmRBc3NldElkKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTIKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDYgLy8gImFkbWluX2FkZHJlc3MiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTgxLTE4NgogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldChyZXdhcmRBc3NldElkKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICA9PQogICAgYnogaW5qZWN0UmV3YXJkc19ib29sX2ZhbHNlQDUKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTgzCiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxODEtMTg2CiAgICAvLyBhc3NlcnRNYXRjaChyZXdhcmRUeG4sIHsKICAgIC8vICAgc2VuZGVyOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHJld2FyZEFzc2V0SWQpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgID09CiAgICBieiBpbmplY3RSZXdhcmRzX2Jvb2xfZmFsc2VANQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBYZmVyQXNzZXQKICAgIGZyYW1lX2RpZyAtMQogICAgPT0KICAgIGJ6IGluamVjdFJld2FyZHNfYm9vbF9mYWxzZUA1CiAgICBmcmFtZV9kaWcgLTMKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICBmcmFtZV9kaWcgLTIKICAgID09CiAgICBieiBpbmplY3RSZXdhcmRzX2Jvb2xfZmFsc2VANQogICAgaW50Y18xIC8vIDEKCmluamVjdFJld2FyZHNfYm9vbF9tZXJnZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTgxLTE4NgogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldChyZXdhcmRBc3NldElkKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDYKICAgIC8vIGluamVjdGVkX2FzYV9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICJpbmplY3RlZF9hc2FfcmV3YXJkcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoxODcKICAgIC8vIHRoaXMuaW5qZWN0ZWRfYXNhX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLmluamVjdGVkX2FzYV9yZXdhcmRzLnZhbHVlLm5hdGl2ZSArIHF1YW50aXR5KTsKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAtMgogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDYKICAgIC8vIGluamVjdGVkX2FzYV9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzMgLy8gImluamVjdGVkX2FzYV9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTg3CiAgICAvLyB0aGlzLmluamVjdGVkX2FzYV9yZXdhcmRzLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy5pbmplY3RlZF9hc2FfcmV3YXJkcy52YWx1ZS5uYXRpdmUgKyBxdWFudGl0eSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTg4CiAgICAvLyB0aGlzLmxhc3RfcmV3YXJkX2luamVjdGlvbl90aW1lLnZhbHVlID0gbmV3IFVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCk7CiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0OAogICAgLy8gbGFzdF9yZXdhcmRfaW5qZWN0aW9uX3RpbWUgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgYnl0ZWMgMTAgLy8gImxhc3RfcmV3YXJkX2luamVjdGlvbl90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTg4CiAgICAvLyB0aGlzLmxhc3RfcmV3YXJkX2luamVjdGlvbl90aW1lLnZhbHVlID0gbmV3IFVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgppbmplY3RSZXdhcmRzX2Jvb2xfZmFsc2VANToKICAgIGludGNfMCAvLyAwCiAgICBiIGluamVjdFJld2FyZHNfYm9vbF9tZXJnZUA2CgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuZGVsZXRlQXBwbGljYXRpb24oKSAtPiB2b2lkOgpkZWxldGVBcHBsaWNhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE5MwogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGRlbGV0ZSBhcHBsaWNhdGlvbiIpOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTIKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDYgLy8gImFkbWluX2FkZHJlc3MiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTkzCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gZGVsZXRlIGFwcGxpY2F0aW9uIik7CiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIGRlbGV0ZSBhcHBsaWNhdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDQKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAidG90YWxfc3Rha2VkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE5NAogICAgLy8gYXNzZXJ0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSA9PT0gMCwgIlN0YWtlZCBhc3NldHMgc3RpbGwgZXhpc3QiKTsKICAgIGJ0b2kKICAgICEKICAgIGFzc2VydCAvLyBTdGFrZWQgYXNzZXRzIHN0aWxsIGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTk2CiAgICAvLyB0aGlzLnN0YWtlcnMuZGVsZXRlKCk7CiAgICBib3hfZGVsCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE5OS0yMDcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDAKICAgIC8vIHN0YWtlZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNyAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIwMQogICAgLy8geGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMDIKICAgIC8vIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMDQKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjAzCiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjE5OS0yMDYKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTcKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGMgNSAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MTk5LTIwNwogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRDbG9zZVRvOiBHbG9iYWwuemVyb0FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDAKICAgIC8vIHN0YWtlZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNyAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDQgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMDkKICAgIC8vIGlmICh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZSAhPT0gdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUpIHsKICAgICE9CiAgICBieiBkZWxldGVBcHBsaWNhdGlvbl9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIxMC0yMTgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDIKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNCAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIxMgogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMTMKICAgIC8vIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMTUKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjE0CiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIxMC0yMTcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogR2xvYmFsLnplcm9BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTcKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGMgNSAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjEwLTIxOAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRDbG9zZVRvOiBHbG9iYWwuemVyb0FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKZGVsZXRlQXBwbGljYXRpb25fYWZ0ZXJfaWZfZWxzZUA0OgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuc3Rha2Uoc3Rha2VUeG46IHVpbnQ2NCwgcXVhbnRpdHk6IHVpbnQ2NCkgLT4gdm9pZDoKc3Rha2U6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMjgtMjI5CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIC8vIHN0YWtlKHN0YWtlVHhuOiBndHhuLkFzc2V0VHJhbnNmZXJUeG4sIHF1YW50aXR5OiB1aW50NjQpOiB2b2lkIHsKICAgIHByb3RvIDIgMAogICAgaW50Y18wIC8vIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMzEKICAgIC8vIGFzc2VydChxdWFudGl0eSA+IDAsICJJbnZhbGlkIHF1YW50aXR5Iik7CiAgICBmcmFtZV9kaWcgLTEKICAgIGFzc2VydCAvLyBJbnZhbGlkIHF1YW50aXR5CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo2MgogICAgLy8gZmx1eF9vcmFjbGVfYXBwID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgMTIgLy8gImZsdXhfb3JhY2xlX2FwcCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyMzQKICAgIC8vIGNvbnN0IGFkZHJlc3MgPSBvcmFjbGUuYWRkcmVzcwogICAgZHVwCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIzOC0yNDUKICAgIC8vIGNvbnN0IHJlc3VsdCA9IGFiaUNhbGwoRmx1eEdhdGVTdHViLnByb3RvdHlwZS5nZXRVc2VyVGllciwgewogICAgLy8gICBhcHBJZDogY29udHJhY3RBcHBJZCwKICAgIC8vICAgYXJnczogW25ldyBhcmM0LkFkZHJlc3Mob3AuVHhuLnNlbmRlcildLAogICAgLy8gICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIGFwcHM6IFtvcmFjbGVdLAogICAgLy8gICBhY2NvdW50czogW29wLlR4bi5zZW5kZXJdLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNDEKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjQ0CiAgICAvLyBhY2NvdW50czogW29wLlR4bi5zZW5kZXJdLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjQwCiAgICAvLyBhcmdzOiBbbmV3IGFyYzQuQWRkcmVzcyhvcC5UeG4uc2VuZGVyKV0sCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjIzOC0yNDUKICAgIC8vIGNvbnN0IHJlc3VsdCA9IGFiaUNhbGwoRmx1eEdhdGVTdHViLnByb3RvdHlwZS5nZXRVc2VyVGllciwgewogICAgLy8gICBhcHBJZDogY29udHJhY3RBcHBJZCwKICAgIC8vICAgYXJnczogW25ldyBhcmM0LkFkZHJlc3Mob3AuVHhuLnNlbmRlcildLAogICAgLy8gICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIGFwcHM6IFtvcmFjbGVdLAogICAgLy8gICBhY2NvdW50czogW29wLlR4bi5zZW5kZXJdLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBwdXNoYnl0ZXMgMHhkNGQ3YWE1YyAvLyBtZXRob2QgImdldFVzZXJUaWVyKGFkZHJlc3MpdWludDY0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFjY291bnRzCiAgICBkaWcgMQogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbnMKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTcKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGMgNSAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjM4LTI0NQogICAgLy8gY29uc3QgcmVzdWx0ID0gYWJpQ2FsbChGbHV4R2F0ZVN0dWIucHJvdG90eXBlLmdldFVzZXJUaWVyLCB7CiAgICAvLyAgIGFwcElkOiBjb250cmFjdEFwcElkLAogICAgLy8gICBhcmdzOiBbbmV3IGFyYzQuQWRkcmVzcyhvcC5UeG4uc2VuZGVyKV0sCiAgICAvLyAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgYXBwczogW29yYWNsZV0sCiAgICAvLyAgIGFjY291bnRzOiBbb3AuVHhuLnNlbmRlcl0sCiAgICAvLyB9KS5yZXR1cm5WYWx1ZTsKICAgIGl0eG5fc3VibWl0CiAgICBpdHhuIExhc3RMb2cKICAgIGR1cAogICAgZXh0cmFjdCA0IDAKICAgIHN3YXAKICAgIGV4dHJhY3QgMCA0CiAgICBieXRlYyA4IC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjQ3CiAgICAvLyBhc3NlcnQocmVzdWx0Lm5hdGl2ZSA+PSB0aGlzLmZsdXhfdGllcl9yZXF1aXJlZC52YWx1ZS5uYXRpdmUsICJJbnN1ZmZpY2llbnQgZmx1eCB0aWVyIik7CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo2MAogICAgLy8gZmx1eF90aWVyX3JlcXVpcmVkID0gR2xvYmFsU3RhdGU8VWludE44PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDExIC8vICJmbHV4X3RpZXJfcmVxdWlyZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjQ3CiAgICAvLyBhc3NlcnQocmVzdWx0Lm5hdGl2ZSA+PSB0aGlzLmZsdXhfdGllcl9yZXF1aXJlZC52YWx1ZS5uYXRpdmUsICJJbnN1ZmZpY2llbnQgZmx1eCB0aWVyIik7CiAgICBidG9pCiAgICA+PQogICAgYXNzZXJ0IC8vIEluc3VmZmljaWVudCBmbHV4IHRpZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI0OQogICAgLy8gaWYgKEdsb2JhbC5vcGNvZGVCdWRnZXQgPCAzMDApIHsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGNfMyAvLyAzMDAKICAgIDwKICAgIGJ6IHN0YWtlX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjUwCiAgICAvLyBlbnN1cmVCdWRnZXQoR2xvYmFsLm9wY29kZUJ1ZGdldCArIDcwMCk7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjIDQgLy8gNzAwCiAgICArCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTItMjU3CiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZVR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBxdWFudGl0eSwKICAgIC8vIH0pOwogICAgZnJhbWVfZGlnIC0yCiAgICBndHhucyBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI1MwogICAgLy8gc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjUyLTI1NwogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgID09CiAgICBieiBzdGFrZV9ib29sX2ZhbHNlQDgKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjU0CiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTItMjU3CiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZVR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBxdWFudGl0eSwKICAgIC8vIH0pOwogICAgPT0KICAgIGJ6IHN0YWtlX2Jvb2xfZmFsc2VAOAogICAgZnJhbWVfZGlnIC0yCiAgICBndHhucyBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwCiAgICAvLyBzdGFrZWRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDcgLy8gInN0YWtlZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTUKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlKSwKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI1Mi0yNTcKICAgIC8vIGFzc2VydE1hdGNoKHN0YWtlVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICA9PQogICAgYnogc3Rha2VfYm9vbF9mYWxzZUA4CiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICBmcmFtZV9kaWcgLTEKICAgID09CiAgICBieiBzdGFrZV9ib29sX2ZhbHNlQDgKICAgIGludGNfMSAvLyAxCgpzdGFrZV9ib29sX21lcmdlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTItMjU3CiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZVR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBxdWFudGl0eSwKICAgIC8vIH0pOwogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI1OAogICAgLy8gbGV0IGFjdGlvbkNvbXBsZXRlOiBib29sZWFuID0gZmFsc2U7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNTkKICAgIC8vIGlmIChHbG9iYWwub3Bjb2RlQnVkZ2V0IDwgMzAwKSB7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjXzMgLy8gMzAwCiAgICA8CiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDExCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNjAKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNjIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9idXJ5IDIKCnN0YWtlX3doaWxlX3RvcEAxMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNjIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLnN0YWtlcnMudmFsdWUubGVuZ3RoOyBpICs9IDEpIHsKICAgIGJveF9nZXQKICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAyCiAgICBpbnRjIDYgLy8gNjUwCiAgICA8CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgNAogICAgYnogc3Rha2VfYmxvY2tAMzUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI2MwogICAgLy8gaWYgKGFjdGlvbkNvbXBsZXRlKSBicmVhazsKICAgIGZyYW1lX2RpZyAxCiAgICBibnogc3Rha2VfYmxvY2tAMzUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNjUKICAgIC8vIGlmICh0aGlzLnN0YWtlcnMudmFsdWVbaV0uYWNjb3VudCA9PT0gbmV3IGFyYzQuQWRkcmVzcyhvcC5UeG4uc2VuZGVyKSkgewogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAyCiAgICBpbnRjXzIgLy8gNDgKICAgICoKICAgIGR1cAogICAgZnJhbWVfYnVyeSAzCiAgICBpbnRjXzIgLy8gNDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGJ6IHN0YWtlX2Vsc2VfYm9keUAyMQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjY3CiAgICAvLyBpZiAoR2xvYmFsLm9wY29kZUJ1ZGdldCA8IDMwMCkgewogICAgZ2xvYmFsIE9wY29kZUJ1ZGdldAogICAgaW50Y18zIC8vIDMwMAogICAgPAogICAgYnogc3Rha2VfYWZ0ZXJfaWZfZWxzZUAxOAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjY4CiAgICAvLyBlbnN1cmVCdWRnZXQoR2xvYmFsLm9wY29kZUJ1ZGdldCArIDcwMCk7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjIDQgLy8gNzAwCiAgICArCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDE4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIHN0YWtlcnMgPSBCb3g8U3RhdGljQXJyYXk8U3Rha2VJbmZvLCA2NTA+Pih7IGtleTogInN0YWtlcnMiIH0pOwogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI3MQogICAgLy8gY29uc3Qgc3Rha2VyID0gdGhpcy5zdGFrZXJzLnZhbHVlW2ldLmNvcHkoKTsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMwogICAgaW50Y18yIC8vIDQ4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI3MgogICAgLy8gc3Rha2VyLnN0YWtlID0gbmV3IFVpbnRONjQoc3Rha2VyLnN0YWtlLm5hdGl2ZSArIHN0YWtlVHhuLmFzc2V0QW1vdW50KTsKICAgIGR1cAogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIGR1cAogICAgZnJhbWVfYnVyeSA1CiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiAzMgogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNzQKICAgIC8vIGlmIChHbG9iYWwub3Bjb2RlQnVkZ2V0IDwgMzAwKSB7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjXzMgLy8gMzAwCiAgICA8CiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDIwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNzUKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMjA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjc3CiAgICAvLyB0aGlzLnN0YWtlcnMudmFsdWVbaV0gPSBzdGFrZXIuY29weSgpOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyA0CiAgICBhc3NlcnQgLy8gSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9kaWcgMAogICAgcmVwbGFjZTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyNzcKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IHN0YWtlci5jb3B5KCk7CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NAogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjc4CiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSArIHN0YWtlVHhuLmFzc2V0QW1vdW50KTsKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyA1CiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NAogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzIgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI3OAogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5uYXRpdmUgKyBzdGFrZVR4bi5hc3NldEFtb3VudCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjc5CiAgICAvLyBhY3Rpb25Db21wbGV0ZSA9IHRydWU7CiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfYnVyeSAxCgpzdGFrZV9hZnRlcl9pZl9lbHNlQDMxOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzA0CiAgICAvLyBpZiAoR2xvYmFsLm9wY29kZUJ1ZGdldCA8IDMwMCkgewogICAgZ2xvYmFsIE9wY29kZUJ1ZGdldAogICAgaW50Y18zIC8vIDMwMAogICAgPAogICAgYnogc3Rha2VfYWZ0ZXJfaWZfZWxzZUAzMwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzA1CiAgICAvLyBlbnN1cmVCdWRnZXQoR2xvYmFsLm9wY29kZUJ1ZGdldCArIDcwMCk7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjIDQgLy8gNzAwCiAgICArCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDMzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjYyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5zdGFrZXJzLnZhbHVlLmxlbmd0aDsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMgogICAgYiBzdGFrZV93aGlsZV90b3BAMTIKCnN0YWtlX2Vsc2VfYm9keUAyMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyODAKICAgIC8vIH0gZWxzZSBpZiAodGhpcy5zdGFrZXJzLnZhbHVlW2ldLmFjY291bnQgPT09IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSkgewogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAzCiAgICBpbnRjXzIgLy8gNDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICA9PQogICAgYnogc3Rha2VfZWxzZV9ib2R5QDI5CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyODIKICAgIC8vIGlmIChHbG9iYWwub3Bjb2RlQnVkZ2V0IDwgMzAwKSB7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjXzMgLy8gMzAwCiAgICA8CiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDI0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyODMKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMjQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NAogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjg1CiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSArIHN0YWtlVHhuLmFzc2V0QW1vdW50KTsKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIGR1cAogICAgZnJhbWVfYnVyeSA2CiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NAogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzIgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI4NQogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5uYXRpdmUgKyBzdGFrZVR4bi5hc3NldEFtb3VudCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjg2CiAgICAvLyBpZiAoR2xvYmFsLm9wY29kZUJ1ZGdldCA8IDMwMCkgewogICAgZ2xvYmFsIE9wY29kZUJ1ZGdldAogICAgaW50Y18zIC8vIDMwMAogICAgPAogICAgYnogc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyNgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjg3CiAgICAvLyBlbnN1cmVCdWRnZXQoR2xvYmFsLm9wY29kZUJ1ZGdldCArIDcwMCk7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjIDQgLy8gNzAwCiAgICArCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDI2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjkwCiAgICAvLyBhY2NvdW50OiBuZXcgYXJjNC5BZGRyZXNzKG9wLlR4bi5zZW5kZXIpLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MjkxCiAgICAvLyBzdGFrZTogbmV3IFVpbnRONjQoc3Rha2VUeG4uYXNzZXRBbW91bnQpLAogICAgZnJhbWVfZGlnIDYKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI4OS0yOTMKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IG5ldyBTdGFrZUluZm8oewogICAgLy8gICBhY2NvdW50OiBuZXcgYXJjNC5BZGRyZXNzKG9wLlR4bi5zZW5kZXIpLAogICAgLy8gICBzdGFrZTogbmV3IFVpbnRONjQoc3Rha2VUeG4uYXNzZXRBbW91bnQpLAogICAgLy8gICBhY2NydWVkQVNBUmV3YXJkczogbmV3IFVpbnRONjQoMCksCiAgICAvLyB9KS5jb3B5KCk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI5MgogICAgLy8gYWNjcnVlZEFTQVJld2FyZHM6IG5ldyBVaW50TjY0KDApLAogICAgYnl0ZWMgNSAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI4OS0yOTMKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IG5ldyBTdGFrZUluZm8oewogICAgLy8gICBhY2NvdW50OiBuZXcgYXJjNC5BZGRyZXNzKG9wLlR4bi5zZW5kZXIpLAogICAgLy8gICBzdGFrZTogbmV3IFVpbnRONjQoc3Rha2VUeG4uYXNzZXRBbW91bnQpLAogICAgLy8gICBhY2NydWVkQVNBUmV3YXJkczogbmV3IFVpbnRONjQoMCksCiAgICAvLyB9KS5jb3B5KCk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyODkKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IG5ldyBTdGFrZUluZm8oewogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI4OS0yOTMKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IG5ldyBTdGFrZUluZm8oewogICAgLy8gICBhY2NvdW50OiBuZXcgYXJjNC5BZGRyZXNzKG9wLlR4bi5zZW5kZXIpLAogICAgLy8gICBzdGFrZTogbmV3IFVpbnRONjQoc3Rha2VUeG4uYXNzZXRBbW91bnQpLAogICAgLy8gICBhY2NydWVkQVNBUmV3YXJkczogbmV3IFVpbnRONjQoMCksCiAgICAvLyB9KS5jb3B5KCk7CiAgICBmcmFtZV9kaWcgNAogICAgYXNzZXJ0IC8vIEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBmcmFtZV9kaWcgMwogICAgdW5jb3ZlciAyCiAgICByZXBsYWNlMwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIHN0YWtlcnMgPSBCb3g8U3RhdGljQXJyYXk8U3Rha2VJbmZvLCA2NTA+Pih7IGtleTogInN0YWtlcnMiIH0pOwogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI4OS0yOTMKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IG5ldyBTdGFrZUluZm8oewogICAgLy8gICBhY2NvdW50OiBuZXcgYXJjNC5BZGRyZXNzKG9wLlR4bi5zZW5kZXIpLAogICAgLy8gICBzdGFrZTogbmV3IFVpbnRONjQoc3Rha2VUeG4uYXNzZXRBbW91bnQpLAogICAgLy8gICBhY2NydWVkQVNBUmV3YXJkczogbmV3IFVpbnRONjQoMCksCiAgICAvLyB9KS5jb3B5KCk7CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOTQKICAgIC8vIGlmIChHbG9iYWwub3Bjb2RlQnVkZ2V0IDwgMzAwKSB7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjXzMgLy8gMzAwCiAgICA8CiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDI4CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOTUKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMjg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1NgogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gIm51bV9zdGFrZXJzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjI5NwogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlICsgMSk7CiAgICBidG9pCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTYKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzEgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mjk3CiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmUgKyAxKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czoyOTgKICAgIC8vIGFjdGlvbkNvbXBsZXRlID0gdHJ1ZTsKICAgIGludGNfMSAvLyAxCiAgICBmcmFtZV9idXJ5IDEKICAgIGIgc3Rha2VfYWZ0ZXJfaWZfZWxzZUAzMQoKc3Rha2VfZWxzZV9ib2R5QDI5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTYKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJudW1fc3Rha2VycyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMDEKICAgIC8vIGFzc2VydCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZSA8IE1BWF9TVEFLRVJTX1BFUl9QT09MLCAiTWF4IHN0YWtlcnMgbGltaXQgcmVhY2hlZCIpOwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjEyCiAgICAvLyBleHBvcnQgY29uc3QgTUFYX1NUQUtFUlNfUEVSX1BPT0w6IHVpbnQ2NCA9IDUwMDsKICAgIHB1c2hpbnQgNTAwIC8vIDUwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzAxCiAgICAvLyBhc3NlcnQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmUgPCBNQVhfU1RBS0VSU19QRVJfUE9PTCwgIk1heCBzdGFrZXJzIGxpbWl0IHJlYWNoZWQiKTsKICAgIDwKICAgIGFzc2VydCAvLyBNYXggc3Rha2VycyBsaW1pdCByZWFjaGVkCiAgICBiIHN0YWtlX2FmdGVyX2lmX2Vsc2VAMzEKCnN0YWtlX2Jsb2NrQDM1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzA4CiAgICAvLyBhc3NlcnQoYWN0aW9uQ29tcGxldGUsICJTdGFrZSAgZmFpbGVkIik7CiAgICBmcmFtZV9kaWcgMQogICAgYXNzZXJ0IC8vIFN0YWtlICBmYWlsZWQKICAgIHJldHN1YgoKc3Rha2VfYm9vbF9mYWxzZUA4OgogICAgaW50Y18wIC8vIDAKICAgIGIgc3Rha2VfYm9vbF9tZXJnZUA5CgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuYWNjcnVlUmV3YXJkcygpIC0+IHZvaWQ6CmFjY3J1ZVJld2FyZHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMTEtMzEyCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIC8vIGFjY3J1ZVJld2FyZHMoKTogdm9pZCB7CiAgICBwcm90byAwIDAKICAgIGludGNfMCAvLyAwCiAgICBkdXAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NgogICAgLy8gaW5qZWN0ZWRfYXNhX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gImluamVjdGVkX2FzYV9yZXdhcmRzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMxMwogICAgLy8gaWYgKHRoaXMuaW5qZWN0ZWRfYXNhX3Jld2FyZHMudmFsdWUubmF0aXZlICogMiA+IHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlKSB7CiAgICBidG9pCiAgICBwdXNoaW50IDIgLy8gMgogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTYKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJudW1fc3Rha2VycyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMTMKICAgIC8vIGlmICh0aGlzLmluamVjdGVkX2FzYV9yZXdhcmRzLnZhbHVlLm5hdGl2ZSAqIDIgPiB0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZSkgewogICAgYnRvaQogICAgPgogICAgYnogYWNjcnVlUmV3YXJkc19hZnRlcl9pZl9lbHNlQDI0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NgogICAgLy8gaW5qZWN0ZWRfYXNhX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gImluamVjdGVkX2FzYV9yZXdhcmRzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgMAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzE2CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmU7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNAoKYWNjcnVlUmV3YXJkc193aGlsZV90b3BAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjU2CiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAibnVtX3N0YWtlcnMiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzE2CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmU7IGkgKz0gMSkgewogICAgYnRvaQogICAgZnJhbWVfZGlnIDQKICAgID4KICAgIGJ6IGFjY3J1ZVJld2FyZHNfYWZ0ZXJfd2hpbGVAMjMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMxNwogICAgLy8gaWYgKEdsb2JhbC5vcGNvZGVCdWRnZXQgPCAzMDApIHsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGNfMyAvLyAzMDAKICAgIDwKICAgIGJ6IGFjY3J1ZVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMTgKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCmFjY3J1ZVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIHN0YWtlcnMgPSBCb3g8U3RhdGljQXJyYXk8U3Rha2VJbmZvLCA2NTA+Pih7IGtleTogInN0YWtlcnMiIH0pOwogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMyMQogICAgLy8gaWYgKHRoaXMuc3Rha2Vycy52YWx1ZVtpXS5zdGFrZS5uYXRpdmUgPiAwKSB7CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIDQKICAgIGludGNfMiAvLyA0OAogICAgKgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDUKICAgIGludGNfMiAvLyA0OAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnogYWNjcnVlUmV3YXJkc19hZnRlcl9pZl9lbHNlQDIyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzIyCiAgICAvLyBjb25zdCBzdGFrZXIgPSB0aGlzLnN0YWtlcnMudmFsdWVbaV0uY29weSgpOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyA1CiAgICBpbnRjXzIgLy8gNDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMyNQogICAgLy8gbGV0IHN0YWtlclNoYXJlID0gbXVsRGl2VyhzdGFrZXIuc3Rha2UubmF0aXZlLCBQUkVDSVNJT04sIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSk7CiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ0CiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gInRvdGFsX3N0YWtlZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMjUKICAgIC8vIGxldCBzdGFrZXJTaGFyZSA9IG11bERpdlcoc3Rha2VyLnN0YWtlLm5hdGl2ZSwgUFJFQ0lTSU9OLCB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5uYXRpdmUpOwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjI3CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6NAogICAgLy8gZXhwb3J0IGNvbnN0IFBSRUNJU0lPTjogdWludDY0ID0gMV8wMDBfMDAwXzAwMF8wMDBfMDAwOwogICAgaW50YyAxMCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MjcKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoyOAogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIHVuY292ZXIgMgogICAgZGl2dwogICAgZnJhbWVfYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozMjcKICAgIC8vIGlmIChHbG9iYWwub3Bjb2RlQnVkZ2V0IDwgMzAwKSB7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjXzMgLy8gMzAwCiAgICA8CiAgICBieiBhY2NydWVSZXdhcmRzX2FmdGVyX2lmX2Vsc2VAOAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzI4CiAgICAvLyBlbnN1cmVCdWRnZXQoR2xvYmFsLm9wY29kZUJ1ZGdldCArIDcwMCk7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjIDQgLy8gNzAwCiAgICArCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CgphY2NydWVSZXdhcmRzX2FmdGVyX2lmX2Vsc2VAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMzMQogICAgLy8gaWYgKGFkZGl0aW9uYWxBU0FSZXdhcmRzLm5hdGl2ZSA+IDApIHsKICAgIGZyYW1lX2RpZyAwCiAgICBidG9pCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMgogICAgYnogYWNjcnVlUmV3YXJkc19hZnRlcl9pZl9lbHNlQDIyCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MjcKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGZyYW1lX2RpZyAyCiAgICBmcmFtZV9kaWcgOAogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjQKICAgIC8vIGV4cG9ydCBjb25zdCBQUkVDSVNJT046IHVpbnQ2NCA9IDFfMDAwXzAwMF8wMDBfMDAwXzAwMDsKICAgIGludGMgMTAgLy8gMTAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMzNAogICAgLy8gaWYgKHJld2FyZFJhdGUgPT09IDApIHsKICAgIGJueiBhY2NydWVSZXdhcmRzX2FmdGVyX2lmX2Vsc2VAMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMzNQogICAgLy8gcmV3YXJkUmF0ZSA9IDE7CiAgICBpbnRjXzEgLy8gMQogICAgZnJhbWVfYnVyeSA3CgphY2NydWVSZXdhcmRzX2FmdGVyX2lmX2Vsc2VAMTE6CiAgICBmcmFtZV9kaWcgNwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ2CiAgICAvLyBpbmplY3RlZF9hc2FfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMyAvLyAiaW5qZWN0ZWRfYXNhX3Jld2FyZHMiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzM4CiAgICAvLyBpZiAodGhpcy5pbmplY3RlZF9hc2FfcmV3YXJkcy52YWx1ZS5uYXRpdmUgPj0gcmV3YXJkUmF0ZSkgewogICAgYnRvaQogICAgPD0KICAgIGJ6IGFjY3J1ZVJld2FyZHNfZWxzZV9ib2R5QDE2CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NgogICAgLy8gaW5qZWN0ZWRfYXNhX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzMgLy8gImluamVjdGVkX2FzYV9yZXdhcmRzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMzOQogICAgLy8gdGhpcy5pbmplY3RlZF9hc2FfcmV3YXJkcy52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMuaW5qZWN0ZWRfYXNhX3Jld2FyZHMudmFsdWUubmF0aXZlIC0gcmV3YXJkUmF0ZSk7CiAgICBidG9pCiAgICBmcmFtZV9kaWcgNgogICAgLQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDYKICAgIC8vIGluamVjdGVkX2FzYV9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGJ5dGVjXzMgLy8gImluamVjdGVkX2FzYV9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzM5CiAgICAvLyB0aGlzLmluamVjdGVkX2FzYV9yZXdhcmRzLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy5pbmplY3RlZF9hc2FfcmV3YXJkcy52YWx1ZS5uYXRpdmUgLSByZXdhcmRSYXRlKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MgogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA0IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDAKICAgIC8vIHN0YWtlZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNyAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0MQogICAgLy8gaWYgKHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlID09PSB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZSkgewogICAgPT0KICAgIGJ6IGFjY3J1ZVJld2FyZHNfZWxzZV9ib2R5QDE0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNDMKICAgIC8vIHN0YWtlci5zdGFrZSA9IG5ldyBVaW50TjY0KHN0YWtlci5zdGFrZS5uYXRpdmUgKyByZXdhcmRSYXRlKTsKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9kaWcgNgogICAgZHVwCiAgICBjb3ZlciAyCiAgICArCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgMQogICAgc3dhcAogICAgcmVwbGFjZTIgMzIKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDQKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAidG90YWxfc3Rha2VkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM0NAogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5uYXRpdmUgKyByZXdhcmRSYXRlKTsKICAgIGJ0b2kKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ0CiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgYnl0ZWNfMiAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzQ0CiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSArIHJld2FyZFJhdGUpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCmFjY3J1ZVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUAyMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNjMKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IHN0YWtlci5jb3B5KCk7CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIDQKICAgIGludGMgNiAvLyA2NTAKICAgIDwKICAgIGFzc2VydCAvLyBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfZGlnIDUKICAgIGZyYW1lX2RpZyAxCiAgICByZXBsYWNlMwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIHN0YWtlcnMgPSBCb3g8U3RhdGljQXJyYXk8U3Rha2VJbmZvLCA2NTA+Pih7IGtleTogInN0YWtlcnMiIH0pOwogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM2MwogICAgLy8gdGhpcy5zdGFrZXJzLnZhbHVlW2ldID0gc3Rha2VyLmNvcHkoKTsKICAgIHN3YXAKICAgIGJveF9wdXQKCmFjY3J1ZVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUAyMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjMxNgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyA0CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSA0CiAgICBiIGFjY3J1ZVJld2FyZHNfd2hpbGVfdG9wQDIKCmFjY3J1ZVJld2FyZHNfZWxzZV9ib2R5QDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzQ2CiAgICAvLyBzdGFrZXIuYWNjcnVlZEFTQVJld2FyZHMgPSBuZXcgVWludE42NChzdGFrZXIuYWNjcnVlZEFTQVJld2FyZHMubmF0aXZlICsgcmV3YXJkUmF0ZSk7CiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIDYKICAgICsKICAgIGl0b2IKICAgIHJlcGxhY2UyIDQwCiAgICBmcmFtZV9idXJ5IDEKICAgIGIgYWNjcnVlUmV3YXJkc19hZnRlcl9pZl9lbHNlQDIwCgphY2NydWVSZXdhcmRzX2Vsc2VfYm9keUAxNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDQgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA3IC8vICJzdGFrZWRfYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzUwCiAgICAvLyBpZiAodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUgPT09IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlKSB7CiAgICA9PQogICAgYnogYWNjcnVlUmV3YXJkc19lbHNlX2JvZHlAMTgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ2CiAgICAvLyBpbmplY3RlZF9hc2FfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMyAvLyAiaW5qZWN0ZWRfYXNhX3Jld2FyZHMiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzUyCiAgICAvLyBjb25zdCBkaWZmOiB1aW50NjQgPSByZXdhcmRSYXRlIC0gdGhpcy5pbmplY3RlZF9hc2FfcmV3YXJkcy52YWx1ZS5uYXRpdmU7CiAgICBidG9pCiAgICBmcmFtZV9kaWcgNgogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM1MwogICAgLy8gc3Rha2VyLnN0YWtlID0gbmV3IFVpbnRONjQoc3Rha2VyLnN0YWtlLm5hdGl2ZSArIGRpZmYpOwogICAgZnJhbWVfZGlnIDMKICAgICsKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAxCiAgICBzd2FwCiAgICByZXBsYWNlMiAzMgogICAgZnJhbWVfYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NAogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzU1CiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5uYXRpdmUgKyAocmV3YXJkUmF0ZSAtIHRoaXMuaW5qZWN0ZWRfYXNhX3Jld2FyZHMudmFsdWUubmF0aXZlKQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDYKICAgIC8vIGluamVjdGVkX2FzYV9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICJpbmplY3RlZF9hc2FfcmV3YXJkcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNTUKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSArIChyZXdhcmRSYXRlIC0gdGhpcy5pbmplY3RlZF9hc2FfcmV3YXJkcy52YWx1ZS5uYXRpdmUpCiAgICBidG9pCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIC0KICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM1NC0zNTYKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnRONjQoCiAgICAvLyAgIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSArIChyZXdhcmRSYXRlIC0gdGhpcy5pbmplY3RlZF9hc2FfcmV3YXJkcy52YWx1ZS5uYXRpdmUpCiAgICAvLyApOwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDQKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNTQtMzU2CiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50TjY0KAogICAgLy8gICB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5uYXRpdmUgKyAocmV3YXJkUmF0ZSAtIHRoaXMuaW5qZWN0ZWRfYXNhX3Jld2FyZHMudmFsdWUubmF0aXZlKQogICAgLy8gKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CgphY2NydWVSZXdhcmRzX2FmdGVyX2lmX2Vsc2VAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NgogICAgLy8gaW5qZWN0ZWRfYXNhX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgYnl0ZWNfMyAvLyAiaW5qZWN0ZWRfYXNhX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNjAKICAgIC8vIHRoaXMuaW5qZWN0ZWRfYXNhX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludE42NCgwKTsKICAgIGJ5dGVjIDUgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgYiBhY2NydWVSZXdhcmRzX2FmdGVyX2lmX2Vsc2VAMjAKCmFjY3J1ZVJld2FyZHNfZWxzZV9ib2R5QDE4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzU4CiAgICAvLyBzdGFrZXIuYWNjcnVlZEFTQVJld2FyZHMgPSBuZXcgVWludE42NChzdGFrZXIuYWNjcnVlZEFTQVJld2FyZHMubmF0aXZlICsgcmV3YXJkUmF0ZSk7CiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZnJhbWVfZGlnIDYKICAgICsKICAgIGl0b2IKICAgIHJlcGxhY2UyIDQwCiAgICBmcmFtZV9idXJ5IDEKICAgIGIgYWNjcnVlUmV3YXJkc19hZnRlcl9pZl9lbHNlQDE5CgphY2NydWVSZXdhcmRzX2FmdGVyX3doaWxlQDIzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzY3CiAgICAvLyB0aGlzLmxhc3RfYWNjcnVhbF90aW1lLnZhbHVlID0gbmV3IFVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCk7CiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MAogICAgLy8gbGFzdF9hY2NydWFsX3RpbWUgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgcHVzaGJ5dGVzICJsYXN0X2FjY3J1YWxfdGltZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM2NwogICAgLy8gdGhpcy5sYXN0X2FjY3J1YWxfdGltZS52YWx1ZSA9IG5ldyBVaW50TjY0KEdsb2JhbC5sYXRlc3RUaW1lc3RhbXApOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCmFjY3J1ZVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUAyNDoKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjpJbmplY3RlZFJld2FyZHNQb29sRmx1eEdhdGVkLmdldFN0YWtlcihhZGRyZXNzOiBieXRlcykgLT4gYnl0ZXM6CmdldFN0YWtlcjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM3MQogICAgLy8gcHJpdmF0ZSBnZXRTdGFrZXIoYWRkcmVzczogQWRkcmVzcyk6IFN0YWtlSW5mbyB7CiAgICBwcm90byAxIDEKICAgIHB1c2hieXRlcyAiIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzcyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmU7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKCmdldFN0YWtlcl93aGlsZV90b3BAMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjU2CiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAibnVtX3N0YWtlcnMiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzcyCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmU7IGkgKz0gMSkgewogICAgYnRvaQogICAgZnJhbWVfZGlnIDEKICAgID4KICAgIGJ6IGdldFN0YWtlcl9hZnRlcl93aGlsZUA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNzMKICAgIC8vIGlmIChHbG9iYWwub3Bjb2RlQnVkZ2V0IDwgMzAwKSB7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjXzMgLy8gMzAwCiAgICA8CiAgICBieiBnZXRTdGFrZXJfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNzQKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCmdldFN0YWtlcl9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mzc2CiAgICAvLyBpZiAodGhpcy5zdGFrZXJzLnZhbHVlW2ldLmFjY291bnQgPT09IGFkZHJlc3MpIHsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18yIC8vIDQ4CiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgaW50Y18yIC8vIDQ4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGV4dHJhY3QgMCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2RpZyAtMQogICAgPT0KICAgIGJ6IGdldFN0YWtlcl9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNzcKICAgIC8vIHJldHVybiB0aGlzLnN0YWtlcnMudmFsdWVbaV0uY29weSgpOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAwCiAgICBpbnRjXzIgLy8gNDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCmdldFN0YWtlcl9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozNzIKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZTsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMQogICAgYiBnZXRTdGFrZXJfd2hpbGVfdG9wQDEKCmdldFN0YWtlcl9hZnRlcl93aGlsZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgwLTM4NAogICAgLy8gcmV0dXJuIG5ldyBTdGFrZUluZm8oewogICAgLy8gICBhY2NvdW50OiBuZXcgYXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvQWRkcmVzcyksCiAgICAvLyAgIHN0YWtlOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgYWNjcnVlZEFTQVJld2FyZHM6IG5ldyBVaW50TjY0KDApLAogICAgLy8gfSkuY29weSgpOwogICAgYnl0ZWMgMTMgLy8gYmFzZTMyKEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBKQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC5jbGFpbVJld2FyZHMoKSAtPiB2b2lkOgpjbGFpbVJld2FyZHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozODYtMzg3CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIC8vIGNsYWltUmV3YXJkcygpOiB2b2lkIHsKICAgIHByb3RvIDAgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mzg4CiAgICAvLyBjb25zdCBzdGFrZXIgPSB0aGlzLmdldFN0YWtlcihuZXcgYXJjNC5BZGRyZXNzKG9wLlR4bi5zZW5kZXIpKTsKICAgIHR4biBTZW5kZXIKICAgIGNhbGxzdWIgZ2V0U3Rha2VyCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM5MAogICAgLy8gaWYgKHN0YWtlci5hY2NydWVkQVNBUmV3YXJkcy5uYXRpdmUgPiAwKSB7CiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIGJ6IGNsYWltUmV3YXJkc19hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM5MS0zOTkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogc3Rha2VyLmFjY3J1ZWRBU0FSZXdhcmRzLm5hdGl2ZSwKICAgIC8vICAgICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDQgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOTMKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mzk0CiAgICAvLyBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6Mzk1CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAxCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzkxLTM5OAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBzdGFrZXIuYWNjcnVlZEFTQVJld2FyZHMubmF0aXZlLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvY29uZmlnLmFsZ28udHM6MTcKICAgIC8vIGV4cG9ydCBjb25zdCBTVEFOREFSRF9UWE5fRkVFOiB1aW50NjQgPSAxXzAwMDsKICAgIGludGMgNSAvLyAxMDAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzkxLTM5OQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBzdGFrZXIuYWNjcnVlZEFTQVJld2FyZHMubmF0aXZlLAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwMAogICAgLy8gc3Rha2VyLmFjY3J1ZWRBU0FSZXdhcmRzID0gbmV3IFVpbnRONjQoMCk7CiAgICBmcmFtZV9kaWcgMAogICAgYnl0ZWMgNSAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIHJlcGxhY2UyIDQwCiAgICBmcmFtZV9idXJ5IDIKCmNsYWltUmV3YXJkc19hZnRlcl9pZl9lbHNlQDM6CiAgICBmcmFtZV9kaWcgMgogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MDIKICAgIC8vIGlmIChHbG9iYWwub3Bjb2RlQnVkZ2V0IDwgMzAwKSB7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjXzMgLy8gMzAwCiAgICA8CiAgICBieiBjbGFpbVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MDMKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCmNsYWltUmV3YXJkc19hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MDUKICAgIC8vIHRoaXMuc2V0U3Rha2VyKHN0YWtlci5hY2NvdW50LCBzdGFrZXIpOwogICAgZnJhbWVfZGlnIDAKICAgIGR1cAogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgY2FsbHN1YiBzZXRTdGFrZXIKICAgIHBvcAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQudW5zdGFrZShxdWFudGl0eTogdWludDY0KSAtPiB2b2lkOgp1bnN0YWtlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDA3LTQwOAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICAvLyB1bnN0YWtlKHF1YW50aXR5OiB1aW50NjQpOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgaW50Y18wIC8vIDAKICAgIGR1cG4gNgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCgp1bnN0YWtlX3doaWxlX3RvcEAxOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTYKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJudW1fc3Rha2VycyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MDkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZTsgaSArPSAxKSB7CiAgICBidG9pCiAgICBmcmFtZV9kaWcgMTMKICAgID4KICAgIGJ6IHVuc3Rha2VfYWZ0ZXJfd2hpbGVAMzMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQxMAogICAgLy8gaWYgKEdsb2JhbC5vcGNvZGVCdWRnZXQgPCAzMDApIHsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGNfMyAvLyAzMDAKICAgIDwKICAgIGJ6IHVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MTEKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCnVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIHN0YWtlcnMgPSBCb3g8U3RhdGljQXJyYXk8U3Rha2VJbmZvLCA2NTA+Pih7IGtleTogInN0YWtlcnMiIH0pOwogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQxMwogICAgLy8gY29uc3Qgc3Rha2VyID0gdGhpcy5zdGFrZXJzLnZhbHVlW2ldLmNvcHkoKTsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMTMKICAgIGludGNfMiAvLyA0OAogICAgKgogICAgaW50Y18yIC8vIDQ4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgZnJhbWVfYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MTQKICAgIC8vIGlmIChzdGFrZXIuYWNjb3VudCA9PT0gbmV3IGFyYzQuQWRkcmVzcyhvcC5UeG4uc2VuZGVyKSkgewogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGJ6IHVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDE1CiAgICAvLyBpZiAoc3Rha2VyLnN0YWtlLm5hdGl2ZSA+IDApIHsKICAgIGZyYW1lX2RpZyA1CiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEwCiAgICBieiB1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAMTgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQxNgogICAgLy8gYXNzZXJ0KHN0YWtlci5zdGFrZS5uYXRpdmUgPj0gcXVhbnRpdHkpOwogICAgZnJhbWVfZGlnIDEwCiAgICBmcmFtZV9kaWcgLTEKICAgID49CiAgICBhc3NlcnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwCiAgICAvLyBzdGFrZWRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDcgLy8gInN0YWtlZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MTcKICAgIC8vIGlmICh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUgPT09IDApIHsKICAgIGJ0b2kKICAgIGJueiB1bnN0YWtlX2Vsc2VfYm9keUAxMgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDE4LTQyNQogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBxdWFudGl0eSA9PT0gMCA/IHN0YWtlci5zdGFrZS5uYXRpdmUgOiBxdWFudGl0eSwKICAgIC8vICAgICByZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDIwCiAgICAvLyBhbW91bnQ6IHF1YW50aXR5ID09PSAwID8gc3Rha2VyLnN0YWtlLm5hdGl2ZSA6IHF1YW50aXR5LAogICAgZnJhbWVfZGlnIC0xCiAgICBibnogdW5zdGFrZV90ZXJuYXJ5X2ZhbHNlQDkKICAgIGZyYW1lX2RpZyAxMAoKdW5zdGFrZV90ZXJuYXJ5X21lcmdlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDIxCiAgICAvLyByZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyMgogICAgLy8gc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQxOC00MjQKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIGFtb3VudDogcXVhbnRpdHkgPT09IDAgPyBzdGFrZXIuc3Rha2UubmF0aXZlIDogcXVhbnRpdHksCiAgICAvLyAgICAgcmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDIzCiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQxOC00MjUKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIGFtb3VudDogcXVhbnRpdHkgPT09IDAgPyBzdGFrZXIuc3Rha2UubmF0aXZlIDogcXVhbnRpdHksCiAgICAvLyAgICAgcmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0Cgp1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAMTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MzkKICAgIC8vIGlmIChzdGFrZXIuYWNjcnVlZEFTQVJld2FyZHMubmF0aXZlID4gMCkgewogICAgZnJhbWVfZGlnIDUKICAgIGR1cAogICAgcHVzaGludCA0MCAvLyA0MAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxMQogICAgc3dhcAogICAgZnJhbWVfYnVyeSA2CiAgICBieiB1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAMjEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ0MC00NDgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogc3Rha2VyLmFjY3J1ZWRBU0FSZXdhcmRzLm5hdGl2ZSwKICAgIC8vICAgICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDQgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NDIKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDQzCiAgICAvLyBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDQ0CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAxMQogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ0MC00NDcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogc3Rha2VyLmFjY3J1ZWRBU0FSZXdhcmRzLm5hdGl2ZSwKICAgIC8vICAgICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDQgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2NvbmZpZy5hbGdvLnRzOjE3CiAgICAvLyBleHBvcnQgY29uc3QgU1RBTkRBUkRfVFhOX0ZFRTogdWludDY0ID0gMV8wMDA7CiAgICBpbnRjIDUgLy8gMTAwMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ0MC00NDgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogc3Rha2VyLmFjY3J1ZWRBU0FSZXdhcmRzLm5hdGl2ZSwKICAgIC8vICAgICBmZWU6IFNUQU5EQVJEX1RYTl9GRUUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NDkKICAgIC8vIHN0YWtlci5hY2NydWVkQVNBUmV3YXJkcyA9IG5ldyBVaW50TjY0KDApOwogICAgZnJhbWVfZGlnIDUKICAgIGJ5dGVjIDUgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICByZXBsYWNlMiA0MAogICAgZnJhbWVfYnVyeSA2Cgp1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAMjE6CiAgICBmcmFtZV9kaWcgNgogICAgZnJhbWVfYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NAogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDUzCiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLm5hdGl2ZSAtIChxdWFudGl0eSA9PT0gMCA/IHN0YWtlci5zdGFrZS5uYXRpdmUgOiBxdWFudGl0eSkpOwogICAgYnRvaQogICAgZnJhbWVfYnVyeSAxMgogICAgZnJhbWVfZGlnIC0xCiAgICBibnogdW5zdGFrZV90ZXJuYXJ5X2ZhbHNlQDIzCiAgICBmcmFtZV9kaWcgNQogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKCnVuc3Rha2VfdGVybmFyeV9tZXJnZUAyNDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ1MwogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5uYXRpdmUgLSAocXVhbnRpdHkgPT09IDAgPyBzdGFrZXIuc3Rha2UubmF0aXZlIDogcXVhbnRpdHkpKTsKICAgIGZyYW1lX2RpZyAxMgogICAgc3dhcAogICAgLQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDQKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlY18yIC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NTMKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnRONjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUubmF0aXZlIC0gKHF1YW50aXR5ID09PSAwID8gc3Rha2VyLnN0YWtlLm5hdGl2ZSA6IHF1YW50aXR5KSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDU1CiAgICAvLyBpZiAoR2xvYmFsLm9wY29kZUJ1ZGdldCA8IDMwMCkgewogICAgZ2xvYmFsIE9wY29kZUJ1ZGdldAogICAgaW50Y18zIC8vIDMwMAogICAgPAogICAgYnogdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDI2CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NTYKICAgIC8vIGVuc3VyZUJ1ZGdldChHbG9iYWwub3Bjb2RlQnVkZ2V0ICsgNzAwKTsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGMgNCAvLyA3MDAKICAgICsKICAgIGludGNfMCAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCnVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ1OQogICAgLy8gaWYgKHF1YW50aXR5ID09PSAwKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGJueiB1bnN0YWtlX2Vsc2VfYm9keUAzMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDY1CiAgICAvLyB0aGlzLnNldFN0YWtlcihzdGFrZXIuYWNjb3VudCwgcmVtb3ZlZFN0YWtlcik7CiAgICBmcmFtZV9kaWcgNQogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDYwLTQ2NAogICAgLy8gY29uc3QgcmVtb3ZlZFN0YWtlciA9IG5ldyBTdGFrZUluZm8oewogICAgLy8gICBhY2NvdW50OiBuZXcgYXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvQWRkcmVzcyksCiAgICAvLyAgIHN0YWtlOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgYWNjcnVlZEFTQVJld2FyZHM6IG5ldyBVaW50TjY0KDApLAogICAgLy8gfSkuY29weSgpOwogICAgYnl0ZWMgMTMgLy8gYmFzZTMyKEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBKQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDY1CiAgICAvLyB0aGlzLnNldFN0YWtlcihzdGFrZXIuYWNjb3VudCwgcmVtb3ZlZFN0YWtlcik7CiAgICBjYWxsc3ViIHNldFN0YWtlcgogICAgZnJhbWVfYnVyeSA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1NgogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gIm51bV9zdGFrZXJzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ2NwogICAgLy8gY29uc3QgbGFzdFN0YWtlciA9IHRoaXMuZ2V0U3Rha2VyKHRoaXMuc3Rha2Vycy52YWx1ZVt0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZSAtIDFdLmFjY291bnQpOwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NjcKICAgIC8vIGNvbnN0IGxhc3RTdGFrZXIgPSB0aGlzLmdldFN0YWtlcih0aGlzLnN0YWtlcnMudmFsdWVbdGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmUgLSAxXS5hY2NvdW50KTsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gNDgKICAgICoKICAgIGludGNfMiAvLyA0OAogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBleHRyYWN0IDAgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBjYWxsc3ViIGdldFN0YWtlcgogICAgZnJhbWVfYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1NgogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gIm51bV9zdGFrZXJzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ2OAogICAgLy8gY29uc3QgbGFzdFN0YWtlckluZGV4ID0gdGhpcy5nZXRTdGFrZXJJbmRleCh0aGlzLnN0YWtlcnMudmFsdWVbdGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmUgLSAxXS5hY2NvdW50KTsKICAgIGJ0b2kKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDY4CiAgICAvLyBjb25zdCBsYXN0U3Rha2VySW5kZXggPSB0aGlzLmdldFN0YWtlckluZGV4KHRoaXMuc3Rha2Vycy52YWx1ZVt0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZSAtIDFdLmFjY291bnQpOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIGludGNfMiAvLyA0OAogICAgKgogICAgaW50Y18yIC8vIDQ4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGV4dHJhY3QgMCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDg2CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmU7IGkgKz0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgNwoKdW5zdGFrZV93aGlsZV90b3BAMzU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1NgogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gIm51bV9zdGFrZXJzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ4NgogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlOyBpICs9IDEpIHsKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyA3CiAgICA+CiAgICBieiB1bnN0YWtlX2FmdGVyX3doaWxlQDM5CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDg3CiAgICAvLyBpZiAodGhpcy5zdGFrZXJzLnZhbHVlW2ldLmFjY291bnQgPT09IGFkZHJlc3MpIHsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgNwogICAgaW50Y18yIC8vIDQ4CiAgICAqCiAgICBpbnRjXzIgLy8gNDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfZGlnIDAKICAgID09CiAgICBieiB1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAMzgKICAgIGZyYW1lX2RpZyA3CiAgICBmcmFtZV9idXJ5IDkKCnVuc3Rha2VfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC5nZXRTdGFrZXJJbmRleEA0MDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ2OQogICAgLy8gaWYgKEdsb2JhbC5vcGNvZGVCdWRnZXQgPCAzMDApIHsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGNfMyAvLyAzMDAKICAgIDwKICAgIGJ6IHVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyOQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDcwCiAgICAvLyBlbnN1cmVCdWRnZXQoR2xvYmFsLm9wY29kZUJ1ZGdldCArIDcwMCk7CiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICBpbnRjIDQgLy8gNzAwCiAgICArCiAgICBpbnRjXzAgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0Cgp1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAMjk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NzIKICAgIC8vIHRoaXMuc2V0U3Rha2VyQXRJbmRleChsYXN0U3Rha2VyLCBpKTsKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9kaWcgMTMKICAgIGNhbGxzdWIgc2V0U3Rha2VyQXRJbmRleAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NzQKICAgIC8vIHRoaXMuc2V0U3Rha2VyQXRJbmRleChyZW1vdmVkU3Rha2VyLCBsYXN0U3Rha2VySW5kZXgpOwogICAgZnJhbWVfZGlnIDQKICAgIGZyYW1lX2RpZyA5CiAgICBjYWxsc3ViIHNldFN0YWtlckF0SW5kZXgKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTYKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludE42ND4oKTsKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJudW1fc3Rha2VycyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0NzUKICAgIC8vIHRoaXMubnVtX3N0YWtlcnMudmFsdWUgPSBuZXcgVWludE42NCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZSAtIDEpOwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjU2CiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBieXRlY18xIC8vICJudW1fc3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ3NQogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50TjY0KHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlIC0gMSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDMxOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDgwCiAgICAvLyB0aGlzLnNldFN0YWtlcihzdGFrZXIuYWNjb3VudCwgc3Rha2VyKTsKICAgIGZyYW1lX2RpZyA1CiAgICBkdXAKICAgIGV4dHJhY3QgMCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHN3YXAKICAgIGNhbGxzdWIgc2V0U3Rha2VyCiAgICBwb3AKCnVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAzMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQwOQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlOyBpICs9IDEpIHsKICAgIGZyYW1lX2RpZyAxMwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMTMKICAgIGIgdW5zdGFrZV93aGlsZV90b3BAMQoKdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDM4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDg2CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgdGhpcy5udW1fc3Rha2Vycy52YWx1ZS5uYXRpdmU7IGkgKz0gMSkgewogICAgZnJhbWVfZGlnIDcKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDcKICAgIGIgdW5zdGFrZV93aGlsZV90b3BAMzUKCnVuc3Rha2VfYWZ0ZXJfd2hpbGVAMzk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0OTEKICAgIC8vIHJldHVybiAwOwogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgOQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDY4CiAgICAvLyBjb25zdCBsYXN0U3Rha2VySW5kZXggPSB0aGlzLmdldFN0YWtlckluZGV4KHRoaXMuc3Rha2Vycy52YWx1ZVt0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZSAtIDFdLmFjY291bnQpOwogICAgYiB1bnN0YWtlX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuZ2V0U3Rha2VySW5kZXhANDAKCnVuc3Rha2VfZWxzZV9ib2R5QDMwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDc3CiAgICAvLyBzdGFrZXIuc3Rha2UgPSBuZXcgVWludE42NChzdGFrZXIuc3Rha2UubmF0aXZlIC0gcXVhbnRpdHkpOwogICAgZnJhbWVfZGlnIDUKICAgIGR1cAogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGZyYW1lX2RpZyAtMQogICAgLQogICAgaXRvYgogICAgcmVwbGFjZTIgMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ3OAogICAgLy8gc3Rha2VyLmFjY3J1ZWRBU0FSZXdhcmRzID0gbmV3IFVpbnRONjQoMCk7CiAgICBieXRlYyA1IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgcmVwbGFjZTIgNDAKICAgIGZyYW1lX2J1cnkgNQogICAgYiB1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAMzEKCnVuc3Rha2VfdGVybmFyeV9mYWxzZUAyMzoKICAgIGZyYW1lX2RpZyAtMQogICAgYiB1bnN0YWtlX3Rlcm5hcnlfbWVyZ2VAMjQKCnVuc3Rha2VfdGVybmFyeV9mYWxzZUA5OgogICAgZnJhbWVfZGlnIC0xCiAgICBiIHVuc3Rha2VfdGVybmFyeV9tZXJnZUAxMAoKdW5zdGFrZV9lbHNlX2JvZHlAMTI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MjctNDM1CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5ID09PSAwID8gc3Rha2VyLnN0YWtlLm5hdGl2ZSA6IHF1YW50aXR5LAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDAKICAgIC8vIHN0YWtlZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnRONjQ+KCk7CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNyAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyOQogICAgLy8geGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5uYXRpdmUsCiAgICBidG9pCiAgICBmcmFtZV9idXJ5IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQzMAogICAgLy8gYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDMxCiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDMyCiAgICAvLyBhc3NldEFtb3VudDogcXVhbnRpdHkgPT09IDAgPyBzdGFrZXIuc3Rha2UubmF0aXZlIDogcXVhbnRpdHksCiAgICBmcmFtZV9kaWcgLTEKICAgIGJueiB1bnN0YWtlX3Rlcm5hcnlfZmFsc2VAMTQKICAgIGZyYW1lX2RpZyAxMAoKdW5zdGFrZV90ZXJuYXJ5X21lcmdlQDE1OgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgZnJhbWVfZGlnIDIKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICBmcmFtZV9kaWcgMQogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBmcmFtZV9kaWcgOAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQyNy00MzQKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUubmF0aXZlLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogcXVhbnRpdHkgPT09IDAgPyBzdGFrZXIuc3Rha2UubmF0aXZlIDogcXVhbnRpdHksCiAgICAvLyAgICAgZmVlOiBTVEFOREFSRF9UWE5fRkVFLAogICAgLy8gICB9KQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9jb25maWcuYWxnby50czoxNwogICAgLy8gZXhwb3J0IGNvbnN0IFNUQU5EQVJEX1RYTl9GRUU6IHVpbnQ2NCA9IDFfMDAwOwogICAgaW50YyA1IC8vIDEwMDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0MjctNDM1CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5ID09PSAwID8gc3Rha2VyLnN0YWtlLm5hdGl2ZSA6IHF1YW50aXR5LAogICAgLy8gICAgIGZlZTogU1RBTkRBUkRfVFhOX0ZFRSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIGIgdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDE4Cgp1bnN0YWtlX3Rlcm5hcnlfZmFsc2VAMTQ6CiAgICBmcmFtZV9kaWcgLTEKICAgIGIgdW5zdGFrZV90ZXJuYXJ5X21lcmdlQDE1Cgp1bnN0YWtlX2FmdGVyX3doaWxlQDMzOgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6OkluamVjdGVkUmV3YXJkc1Bvb2xGbHV4R2F0ZWQuc2V0U3Rha2VyKHN0YWtlckFjY291bnQ6IGJ5dGVzLCBzdGFrZXI6IGJ5dGVzKSAtPiBieXRlczoKc2V0U3Rha2VyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NDk0CiAgICAvLyBwcml2YXRlIHNldFN0YWtlcihzdGFrZXJBY2NvdW50OiBBZGRyZXNzLCBzdGFrZXI6IFN0YWtlSW5mbyk6IHZvaWQgewogICAgcHJvdG8gMiAxCiAgICBwdXNoYnl0ZXMgIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ5NQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlOyBpICs9IDEpIHsKICAgIGludGNfMCAvLyAwCgpzZXRTdGFrZXJfd2hpbGVfdG9wQDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1NgogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50TjY0PigpOwogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzEgLy8gIm51bV9zdGFrZXJzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ5NQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHRoaXMubnVtX3N0YWtlcnMudmFsdWUubmF0aXZlOyBpICs9IDEpIHsKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAxCiAgICA+CiAgICBieiBzZXRTdGFrZXJfYWZ0ZXJfd2hpbGVAMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ5NgogICAgLy8gaWYgKEdsb2JhbC5vcGNvZGVCdWRnZXQgPCAzMDApIHsKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgIGludGNfMyAvLyAzMDAKICAgIDwKICAgIGJ6IHNldFN0YWtlcl9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjQ5NwogICAgLy8gZW5zdXJlQnVkZ2V0KEdsb2JhbC5vcGNvZGVCdWRnZXQgKyA3MDApOwogICAgZ2xvYmFsIE9wY29kZUJ1ZGdldAogICAgaW50YyA0IC8vIDcwMAogICAgKwogICAgaW50Y18wIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAoKc2V0U3Rha2VyX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0OTkKICAgIC8vIGlmICh0aGlzLnN0YWtlcnMudmFsdWVbaV0uYWNjb3VudCA9PT0gc3Rha2VyQWNjb3VudCkgewogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAxCiAgICBpbnRjXzIgLy8gNDgKICAgICoKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICBpbnRjXzIgLy8gNDgKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfZGlnIC0yCiAgICA9PQogICAgYnogc2V0U3Rha2VyX2Vsc2VfYm9keUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTAwCiAgICAvLyB0aGlzLnN0YWtlcnMudmFsdWVbaV0gPSBzdGFrZXIuY29weSgpOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAxCiAgICBpbnRjIDYgLy8gNjUwCiAgICA8CiAgICBhc3NlcnQgLy8gSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9kaWcgLTEKICAgIHJlcGxhY2UzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTAwCiAgICAvLyB0aGlzLnN0YWtlcnMudmFsdWVbaV0gPSBzdGFrZXIuY29weSgpOwogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTAxCiAgICAvLyByZXR1cm47CiAgICBmcmFtZV9kaWcgLTEKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgpzZXRTdGFrZXJfZWxzZV9ib2R5QDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTAyCiAgICAvLyB9IGVsc2UgaWYgKHRoaXMuc3Rha2Vycy52YWx1ZVtpXS5hY2NvdW50ID09PSBuZXcgYXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvQWRkcmVzcykpIHsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBmcmFtZV9kaWcgMAogICAgaW50Y18yIC8vIDQ4CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGV4dHJhY3QgMCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgPT0KICAgIGJ6IHNldFN0YWtlcl9hZnRlcl9pZl9lbHNlQDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MDMKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IHN0YWtlci5jb3B5KCk7CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIDEKICAgIGludGMgNiAvLyA2NTAKICAgIDwKICAgIGFzc2VydCAvLyBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfZGlnIDAKICAgIGZyYW1lX2RpZyAtMQogICAgcmVwbGFjZTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjM4CiAgICAvLyBzdGFrZXJzID0gQm94PFN0YXRpY0FycmF5PFN0YWtlSW5mbywgNjUwPj4oeyBrZXk6ICJzdGFrZXJzIiB9KTsKICAgIGJ5dGVjXzAgLy8gInN0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MDMKICAgIC8vIHRoaXMuc3Rha2Vycy52YWx1ZVtpXSA9IHN0YWtlci5jb3B5KCk7CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo1MDQKICAgIC8vIHJldHVybjsKICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCnNldFN0YWtlcl9hZnRlcl9pZl9lbHNlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo0OTUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCB0aGlzLm51bV9zdGFrZXJzLnZhbHVlLm5hdGl2ZTsgaSArPSAxKSB7CiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMQogICAgYiBzZXRTdGFrZXJfd2hpbGVfdG9wQDEKCnNldFN0YWtlcl9hZnRlcl93aGlsZUAxMDoKICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czo6SW5qZWN0ZWRSZXdhcmRzUG9vbEZsdXhHYXRlZC5zZXRTdGFrZXJBdEluZGV4KHN0YWtlcjogYnl0ZXMsIGluZGV4OiB1aW50NjQpIC0+IGJ5dGVzOgpzZXRTdGFrZXJBdEluZGV4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTA4CiAgICAvLyBwcml2YXRlIHNldFN0YWtlckF0SW5kZXgoc3Rha2VyOiBTdGFrZUluZm8sIGluZGV4OiB1aW50NjQpOiB2b2lkIHsKICAgIHByb3RvIDIgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6MzgKICAgIC8vIHN0YWtlcnMgPSBCb3g8U3RhdGljQXJyYXk8U3Rha2VJbmZvLCA2NTA+Pih7IGtleTogInN0YWtlcnMiIH0pOwogICAgYnl0ZWNfMCAvLyAic3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9pbmplY3RlZF9yZXdhcmRzX3Bvb2xfZmx1eF9nYXRlZC9pcnBmZy5hbGdvLnRzOjUwOQogICAgLy8gdGhpcy5zdGFrZXJzLnZhbHVlW2luZGV4XSA9IHN0YWtlci5jb3B5KCk7CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjIDYgLy8gNjUwCiAgICA8CiAgICBhc3NlcnQgLy8gSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18yIC8vIDQ4CiAgICAqCiAgICBmcmFtZV9kaWcgLTIKICAgIHJlcGxhY2UzCiAgICAvLyBzbWFydF9jb250cmFjdHMvaW5qZWN0ZWRfcmV3YXJkc19wb29sX2ZsdXhfZ2F0ZWQvaXJwZmcuYWxnby50czozOAogICAgLy8gc3Rha2VycyA9IEJveDxTdGF0aWNBcnJheTxTdGFrZUluZm8sIDY1MD4+KHsga2V5OiAic3Rha2VycyIgfSk7CiAgICBieXRlY18wIC8vICJzdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL2luamVjdGVkX3Jld2FyZHNfcG9vbF9mbHV4X2dhdGVkL2lycGZnLmFsZ28udHM6NTA5CiAgICAvLyB0aGlzLnN0YWtlcnMudmFsdWVbaW5kZXhdID0gc3Rha2VyLmNvcHkoKTsKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIGZyYW1lX2RpZyAtMgogICAgcmV0c3ViCg==",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 11,
            "num_uints": 1
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "admin_address": {
                    "type": "bytes",
                    "key": "admin_address"
                },
                "contract_version": {
                    "type": "bytes",
                    "key": "contract_version"
                },
                "flux_oracle_app": {
                    "type": "uint64",
                    "key": "flux_oracle_app"
                },
                "flux_tier_required": {
                    "type": "bytes",
                    "key": "flux_tier_required"
                },
                "injected_asa_rewards": {
                    "type": "bytes",
                    "key": "injected_asa_rewards"
                },
                "last_accrual_time": {
                    "type": "bytes",
                    "key": "last_accrual_time"
                },
                "last_reward_injection_time": {
                    "type": "bytes",
                    "key": "last_reward_injection_time"
                },
                "minimum_balance": {
                    "type": "bytes",
                    "key": "minimum_balance"
                },
                "num_stakers": {
                    "type": "bytes",
                    "key": "num_stakers"
                },
                "reward_asset_id": {
                    "type": "bytes",
                    "key": "reward_asset_id"
                },
                "staked_asset_id": {
                    "type": "bytes",
                    "key": "staked_asset_id"
                },
                "total_staked": {
                    "type": "bytes",
                    "key": "total_staked"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "irpfg",
        "methods": [
            {
                "name": "createApplication",
                "args": [
                    {
                        "type": "address",
                        "name": "adminAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "initApplication",
                "args": [
                    {
                        "type": "uint64",
                        "name": "stakedAssetId",
                        "desc": "- The asset ID of the token to be staked in the pool."
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAssetId",
                        "desc": "- The asset ID of the token to be distributed as rewards."
                    },
                    {
                        "type": "pay",
                        "name": "initialBalanceTxn",
                        "desc": "- The payment transaction providing the initial minimum balance for the contract."
                    },
                    {
                        "type": "uint64",
                        "name": "fluxTierRequired"
                    },
                    {
                        "type": "application",
                        "name": "fluxOracleApp"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Initializes the staking pool application with the specified staked asset and reward asset.\n\nSets up global state variables, verifies the initial funding payment, and opts the contract into the staked asset\nand reward asset if necesary.\nOnly the admin address can call this function."
            },
            {
                "name": "updateAdminAddress",
                "args": [
                    {
                        "type": "account",
                        "name": "adminAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "getMBRForPoolCreation",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "(uint64)"
                }
            },
            {
                "name": "initStorage",
                "args": [
                    {
                        "type": "pay",
                        "name": "mbrPayment"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "injectRewards",
                "args": [
                    {
                        "type": "axfer",
                        "name": "rewardTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "quantity"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAssetId"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "deleteApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "stake",
                "args": [
                    {
                        "type": "axfer",
                        "name": "stakeTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "quantity"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "accrueRewards",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "claimRewards",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "unstake",
                "args": [
                    {
                        "type": "uint64",
                        "name": "quantity"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "gas",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            }
        ],
        "networks": {}
    },
    "bare_call_config": {}
}